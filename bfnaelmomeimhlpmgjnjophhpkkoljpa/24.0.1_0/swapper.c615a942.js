(function(define){var __define;"function"==typeof define&&define.amd&&(__define=define,define=null);
function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},a=n.parcelRequire1d24;null==a&&((a=function(e){if(e in o)return o[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},n.parcelRequire1d24=a),a.register("a0t1u",(function(t,n){e(t.exports,"useSwapperStore",(function(){return a("jG6nq").useSwapperStore})),e(t.exports,"HIGH_PRICE_IMPACT_THRESHOLD",(function(){return a("54Hrp").HIGH_PRICE_IMPACT_THRESHOLD})),e(t.exports,"HIGH_SLIPPAGE_THRESHOLD",(function(){return a("54Hrp").HIGH_SLIPPAGE_THRESHOLD})),e(t.exports,"PHANTOM_SUPPORT_SWAP_FAILED_URL",(function(){return a("54Hrp").PHANTOM_SUPPORT_SWAP_FAILED_URL})),e(t.exports,"analyticsPayload",(function(){return a("dPav6").analyticsPayload})),e(t.exports,"extractUsdRate",(function(){return a("a9Zq7").extractUsdRate})),e(t.exports,"formatSecondsAsSwapTime",(function(){return a("cKybL").formatSecondsAsSwapTime})),e(t.exports,"isBridgeProviderRow",(function(){return a("kBfcJ").isBridgeProviderRow})),e(t.exports,"createSwapperHooks",(function(){return a("gXZhK").createSwapperHooks})),e(t.exports,"useMultichainSwapSetBuyAsset",(function(){return a("4GAXG").useSwapSetBuyAsset})),e(t.exports,"useMultichainSwapSetSellAsset",(function(){return a("606g5").useSwapSetSellAsset})),e(t.exports,"useMultichainFeeBreakdown",(function(){return a("1RdIz").useFeeBreakdown})),e(t.exports,"useMultichainQuote",(function(){return a("lmbzb").useQuote})),e(t.exports,"SwapAssetSelectType",(function(){return a("uleZn").SwapAssetSelectType})),e(t.exports,"swapperShouldDehydrateQueryPredicate",(function(){return a("aLg9d").swapperShouldDehydrateQueryPredicate})),e(t.exports,"createSwapAnalytics",(function(){return a("jMU3p").createSwapAnalytics}));a("jG6nq"),a("54Hrp"),a("dPav6"),a("a9Zq7"),a("cKybL"),a("7u9Mq"),a("kBfcJ"),a("gXZhK"),a("4GAXG"),a("606g5"),a("1RdIz"),a("lmbzb"),a("aAk1s"),a("l2d9C"),a("9eH52"),a("jhEDs"),a("uleZn"),a("aLg9d"),a("jMU3p")})),a.register("jG6nq",(function(n,o){e(n.exports,"useSwapperStore",(function(){return i}));var r=a("9xrNA");const s={buyFungible:void 0,buyUsdValue:void 0,sellFungible:void 0,sellUsdValue:void 0,sellAmount:"",uiSellAmount:"",multichainQuoteResponse:void 0,selectedProviderIndex:0,gasEstimation:void 0,isFetchingGasEstimation:!1,maxGasEstimation:void 0,quoteFetchIntervalToggle:!0,refuelEnabled:!1,hasNoRoutes:!1,isFetchingQuote:!1,error:null},i=t(r)((e=>Object.assign(Object.assign({},s),{resetQuote:()=>e({multichainQuoteResponse:s.multichainQuoteResponse,isFetchingQuote:s.isFetchingQuote,hasNoRoutes:s.hasNoRoutes,selectedProviderIndex:s.selectedProviderIndex,error:s.error}),resetSwapper:()=>e({multichainQuoteResponse:s.multichainQuoteResponse,gasEstimation:s.gasEstimation,isFetchingGasEstimation:s.isFetchingGasEstimation,maxGasEstimation:s.maxGasEstimation,quoteFetchIntervalToggle:s.quoteFetchIntervalToggle,error:s.error,sellAmount:"",uiSellAmount:""}),setBuyFungible:t=>e({buyFungible:t}),setBuyUsdValue:t=>e({buyUsdValue:t}),setHasNoRoutes:t=>e({hasNoRoutes:t}),setIsFetchingQuote:t=>e({isFetchingQuote:t}),setMultichainQuoteResponse:t=>e({multichainQuoteResponse:t,hasNoRoutes:!1}),setSelectedProviderIndex:t=>e({selectedProviderIndex:t}),setGasEstimation:t=>e({gasEstimation:t}),setIsFetchingGasEstimation:t=>e({isFetchingGasEstimation:t}),setMaxGasEstimation:t=>e({maxGasEstimation:t}),setQuoteFetchIntervalToggle:t=>e({quoteFetchIntervalToggle:t}),setRefuelEnabled:t=>e({refuelEnabled:t}),setSellAmount:t=>e({sellAmount:t}),setSellUsdValue:t=>e({sellUsdValue:t}),setSellFungible:t=>e({sellFungible:t}),setUiSellAmount:t=>e({uiSellAmount:t}),setError:t=>e({error:t})})))})),a.register("54Hrp",(function(n,o){e(n.exports,"HIGH_PRICE_IMPACT_THRESHOLD",(function(){return u})),e(n.exports,"HIGH_SLIPPAGE_THRESHOLD",(function(){return l})),e(n.exports,"DEFAULT_SLIPPAGE",(function(){return c})),e(n.exports,"INITIAL_BUY_FUNGIBLE",(function(){return y})),e(n.exports,"INITIAL_SELL_FUNGIBLE",(function(){return b})),e(n.exports,"CHAIN_TO_NATIVE_FUNGIBLE",(function(){return w})),e(n.exports,"CHAIN_TO_USDC_FUNGIBLE",(function(){return h})),e(n.exports,"PHANTOM_SUPPORT_SWAP_FAILED_URL",(function(){return k})),e(n.exports,"BALANCE_HIDDEN_TEXT",(function(){return T}));var r=a("belzv"),s=a("gYh0e"),i=a("3yHS8");const u=5,l=2,c=1,d={id:r.Chains.solana.mainnetID,imageUrl:r.Chains.solana.iconUrl,name:r.Chains.solana.name,symbol:r.Chains.solana.tokenSymbol},p={type:s.FungibleTokenType.SolanaNative,data:{amount:"0",balance:new(t(i))(0),chain:d,coingeckoId:"solana",decimals:9,key:"SolanaNative",logoUri:"https://cdn.jsdelivr.net/gh/solana-labs/token-list@main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png",name:"Solana",symbol:"SOL",tokenAddress:void 0,walletAddress:""}},m={type:s.FungibleTokenType.SPL,data:{amount:"0",balance:new(t(i))(0),chain:d,coingeckoId:"usd-coin",decimals:6,key:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",logoUri:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v/logo.png",mintAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",name:"USD Coin",splTokenAccountPubkey:"EAF7dH8Jy43Xgp68PhyybKhfKxk46NFRkWN4PMCLqMfS",symbol:"USDC",tokenAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",walletAddress:"",programId:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}},g={type:s.FungibleTokenType.PolygonNative,data:{chain:{id:r.Chains.polygon.mainnetID,name:r.Chains.polygon.name,symbol:r.Chains.polygon.tokenSymbol,imageUrl:r.Chains.polygon.iconUrl},walletAddress:"",decimals:18,amount:"72172806352057410682",logoUri:"https://wallet-asset.matic.network/img/tokens/matic.svg",name:"Polygon",symbol:"MATIC",coingeckoId:"matic-network",balance:new(t(i))(72.1728063520574),key:"PolygonNative",usd:79.02922295550286,price:1.095,usd_24h_change:-.19903579005681138,tokenAddress:void 0}},f={type:s.FungibleTokenType.ERC20,data:{amount:"0",balance:new(t(i))(0),coingeckoId:null,decimals:6,key:"0x2791bca1f2de4661ed88a30c99a7a9449aa84174",logoUri:"https://wallet-asset.matic.network/img/tokens/usdc.svg",name:"USD Coin",symbol:"USDC",tokenAddress:"0x2791bca1f2de4661ed88a30c99a7a9449aa84174",walletAddress:"",chain:{id:r.Chains.polygon.mainnetID,imageUrl:r.Chains.polygon.iconUrl,name:r.Chains.polygon.name,symbol:r.Chains.polygon.tokenSymbol},contractAddress:"0x2791bca1f2de4661ed88a30c99a7a9449aa84174"}},S={type:s.FungibleTokenType.EthereumNative,data:{chain:{id:r.Chains.ethereum.mainnetID,name:r.Chains.ethereum.name,symbol:r.Chains.ethereum.tokenSymbol,imageUrl:r.Chains.ethereum.iconUrl},walletAddress:"",decimals:18,amount:"45824381294194610",logoUri:"https://cdn.jsdelivr.net/gh/trustwallet/assets@master/blockchains/ethereum/assets/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2/logo.png",name:"Ethereum",symbol:"ETH",coingeckoId:"ethereum",balance:new(t(i))(.04582438129419461),key:"EthereumNative",usd:85.14215868842653,price:1858.01,usd_24h_change:.0009391170983548136,tokenAddress:void 0}},v={type:s.FungibleTokenType.ERC20,data:{chain:{id:r.Chains.ethereum.mainnetID,name:r.Chains.ethereum.name,symbol:r.Chains.ethereum.tokenSymbol,imageUrl:r.Chains.ethereum.iconUrl},walletAddress:"",contractAddress:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",decimals:6,amount:"1881092",logoUri:"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389",name:"USD Coin",symbol:"USDC",coingeckoId:null,balance:new(t(i))(1.881092),key:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",tokenAddress:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",usd:1.8807026139560001,price:.999793,usd_24h_change:-.0005475429199477411}},y=m,b=p,w=new Map([[r.NetworkIDs.Solana.Mainnet,p],[r.NetworkIDs.Ethereum.Mainnet,S],[r.NetworkIDs.Polygon.Mainnet,g]]),h=new Map([[r.NetworkIDs.Solana.Mainnet,m],[r.NetworkIDs.Ethereum.Mainnet,v],[r.NetworkIDs.Polygon.Mainnet,f]]),k="https://help.phantom.app/hc/en-us/articles/5985106844435",T="••••••"})),a.register("dPav6",(function(t,n){e(t.exports,"legacyAnalyticsPayload",(function(){return c})),e(t.exports,"analyticsPayload",(function(){return d}));var o=a("belzv"),r=a("eoULV"),s=a("gmVmN"),i=a("4Fsq6");const u=(e,t,n)=>{if(n){return(0,s.amountToUiAmount)(e,t).times((0,r.BigNumber)(n)).toNumber()}},l=(e,t)=>t&&e?t>e?t:e:null!=t?t:e;function c({buyAssetUsdValue:e,buyToken:t,sellAssetUsdValue:n,sellToken:r,buyAmount:a,sellAmount:i,phantomFeeUiAmount:c,priceImpact:d,provider:p}){var m,g;if(t&&r){const f=u(a,t.data.decimals,e),S=u(i,r.data.decimals,n),v=l(f,S);return{networkId:r.data.chain.id,chainId:o.Chains.getChainID(r.data.chain.id),toNetworkId:t.data.chain.id,toChainId:o.Chains.getChainID(t.data.chain.id),isBridge:r.data.chain.id!==t.data.chain.id,marketName:`${r.data.symbol}/${t.data.symbol}`,tradeDirection:"sell",swapSource:p,priceImpact:d,fromAssetSymbol:null!==(m=r.data.symbol)&&void 0!==m?m:"",fromAssetAddress:r.data.tokenAddress,fromAssetAmount:(0,s.amountToUiAmount)(i,r.data.decimals),fromAssetUsdPrice:n,fromAssetUsdVolume:S,toAssetSymbol:null!==(g=t.data.symbol)&&void 0!==g?g:"",toAssetAddress:t.data.tokenAddress,toAssetAmount:(0,s.amountToUiAmount)(a,t.data.decimals),toAssetUsdPrice:e,toAssetUsdVolume:f,totalUsdVolume:v,feeUsd:c}}return null}function d({buyAssetUsdValue:e,buyToken:t,sellAssetUsdValue:n,sellToken:o,quote:r}){var a,c,d,p,m,g,f;if(t&&o){const{buyAmount:S,sellAmount:v}=r,y="priceImpact"in r?r.priceImpact:0,b="sources"in r?(0,i.parseSwapSources)(r.sources):"",w=null!==(c="fees"in r?null===(a=r.fees.find((e=>"phantom"===e.type)))||void 0===a?void 0:a.amount.toString():"")&&void 0!==c?c:"",h=u(S,t.data.decimals,e),k=u(v,o.data.decimals,n),T=l(h,k);return{chainId:null!==(d=o.data.chain.id)&&void 0!==d?d:t.data.chain.id,swap:{marketName:`${o.data.symbol}/${t.data.symbol}`,tradeDirection:"sell",swapSource:b,priceImpact:y,fromAssetSymbol:null!==(p=o.data.symbol)&&void 0!==p?p:"",fromAssetAddress:null!==(m=o.data.tokenAddress)&&void 0!==m?m:"",fromAssetAmount:(0,s.amountToUiAmount)(v,o.data.decimals),fromAssetUsdPrice:null!=n?n:0,fromAssetUsdVolume:null!=k?k:0,toAssetSymbol:null!==(g=t.data.symbol)&&void 0!==g?g:"",toAssetAddress:null!==(f=t.data.tokenAddress)&&void 0!==f?f:"",toAssetAmount:(0,s.amountToUiAmount)(S,t.data.decimals),toAssetUsdPrice:e,toAssetUsdVolume:h,totalUsdVolume:null!=T?T:0,feeUsd:Number(w)}}}return null}})),a.register("4Fsq6",(function(t,n){function o(e){const t=e.reduce(((e,t)=>e.add(t.name)),new Set);return Array.from(t).join(" + ")}e(t.exports,"parseSwapSources",(function(){return o}))})),a.register("a9Zq7",(function(t,n){e(t.exports,"extractUsdRate",(function(){return r}));var o=a("gYh0e");const r=(e,t)=>{if(void 0!==t)return e.type===o.FungibleTokenType.BitcoinNative?t[o.BITCOIN_TOKEN_VALUES.coingeckoId]:e.type===o.FungibleTokenType.SolanaNative?t[o.SOLANA_TOKEN_VALUES.coingeckoId]:e.type===o.FungibleTokenType.EthereumNative?t[o.ETHER_TOKEN_VALUES.coingeckoId]:e.type===o.FungibleTokenType.PolygonNative?t[o.MATIC_TOKEN_VALUES.coingeckoId]:e.type===o.FungibleTokenType.SPL?t[e.data.mintAddress]:e.type===o.FungibleTokenType.ERC20?t[e.data.contractAddress]:e.type===o.FungibleTokenType.BRC20?t[e.data.firstCreatedInscriptionId]:void 0}})),a.register("cKybL",(function(t,n){e(t.exports,"formatSecondsAsSwapTime",(function(){return o}));const o=(e,t)=>{const n=Math.floor(e/3600),o=Math.floor((e-3600*n)/60),r=e%60;if(n>0)return t("swapProviderEstimatedTimeHM",{hours:n,minutes:o});if(o>0){return t("swapProviderEstimatedTimeM",{minutes:r>0?o+1:o})}return t("swapProviderEstimatedTimeS",{seconds:r})}})),a.register("7u9Mq",(function(n,o){e(n.exports,"formatTokenAmountForReviewScreen",(function(){return s}));var r=a("2MVjM");const s=(e,n)=>{const o=t(r)(e),a=o.value();if(Math.abs(a)>0&&Math.abs(a)<1e-5){return`< ${a<0?"-":""}0.00001`}return n>=12?o.format("0,0.[0]"):n>=9?o.format("0,0.[000]"):o.format("0,0.[00000]")}})),a.register("kBfcJ",(function(t,n){e(t.exports,"isBridgeProviderRow",(function(){return r}));var o=a("uleZn");const r=e=>o.BridgeProviderRow.safeParse(e).success})),a.register("uleZn",(function(t,n){e(t.exports,"ErrorResponse",(function(){return i})),e(t.exports,"SwapToken",(function(){return l})),e(t.exports,"SolanaSwapQuote",(function(){return f})),e(t.exports,"EvmSwapQuote",(function(){return S})),e(t.exports,"BridgeQuote",(function(){return h})),e(t.exports,"QuoteType",(function(){return T})),e(t.exports,"SwapperQuoteResponse",(function(){return A})),e(t.exports,"SwapProviderRow",(function(){return C})),e(t.exports,"BridgeProviderRow",(function(){return P})),e(t.exports,"SwapAssetSelectType",(function(){return D}));var o=a("belzv"),r=a("4chX7"),s=a("7pPsM");const i=s.z.object({name:s.z.string(),message:s.z.string()}),u=s.z.object({coingeckoId:s.z.optional(s.z.string())}),l=s.z.object({chainId:o.NetworkID,address:s.z.optional(s.z.string()),name:s.z.string(),symbol:s.z.string(),decimals:s.z.number(),logoURI:s.z.optional(s.z.string()),resourceType:s.z.string(),extensions:s.z.optional(u),includesBridge:s.z.optional(s.z.boolean())}),c=s.z.enum(["network","phantom"]),d=s.z.object({name:s.z.string(),percentage:s.z.number(),amount:s.z.number(),type:c}),p=s.z.object({name:s.z.string(),proportion:s.z.string()}),m=s.z.object({sellAmount:s.z.string(),buyAmount:s.z.string()}),g=m.extend({priceImpact:s.z.number(),sources:s.z.array(p),fees:s.z.array(d)}),f=g.extend({transactionData:s.z.array(s.z.string())}),S=g.extend({allowanceTarget:s.z.string(),exchangeAddress:s.z.string(),gas:s.z.number(),value:s.z.string(),transactionData:s.z.string()}),v=s.z.object({name:s.z.string(),amount:s.z.string(),token:o.FungibleCaip19,percentage:s.z.string(),included:s.z.boolean()}),y=s.z.object({name:s.z.string(),key:s.z.string(),logoURI:s.z.string()}),b=s.z.object({name:s.z.string(),symbol:s.z.string()}),w=s.z.object({transactionData:s.z.string(),buyToken:o.FungibleCaip19,sellToken:o.FungibleCaip19,nonIncludedNonGasFees:s.z.string(),feeCosts:s.z.array(v),chainId:o.NetworkID,tool:y,value:s.z.optional(s.z.string()),allowanceTarget:s.z.optional(s.z.string()),approvalMetadata:s.z.optional(b),exchangeAddress:s.z.optional(s.z.string()),gasCosts:s.z.optional(s.z.array(s.z.number()))}),h=m.extend({executionDuration:s.z.number(),tags:s.z.array(s.z.string()),steps:s.z.array(w),refuelAmount:s.z.optional(s.z.string())}),k=s.z.union([f,S,h]),T=s.z.enum(["solana","eip155","xchain"]),A=s.z.object({type:T,taker:o.FungibleCaip19,buyToken:o.FungibleCaip19,sellToken:o.FungibleCaip19,slippageTolerance:s.z.number(),simulationTolerance:s.z.optional(s.z.number()),gasBuffer:s.z.optional(s.z.number()),quotes:s.z.array(k)}),E=s.z.enum(["swap-approval","swap","bridge-approval","bridge"]),I=s.z.enum(["swap","bridge"]),F=s.z.object({sellToken:o.FungibleCaip19,buyToken:o.FungibleCaip19,approvalMetadata:s.z.optional(b)}),N=s.z.object({type:s.z.literal("solana"),transactions:s.z.array(s.z.string()),transactionTypes:s.z.array(I),transactionPairs:s.z.optional(s.z.array(F))}),x=s.z.object({type:s.z.literal("evm"),transactions:s.z.array(r.EthUnsignedTransactionObject),transactionTypes:s.z.array(E),transactionPairs:s.z.optional(s.z.array(F))}),C=(s.z.union([N,x]),s.z.object({name:s.z.string(),fee:s.z.string()}).strict()),P=s.z.object({name:s.z.string(),fee:s.z.string(),amount:s.z.string(),tags:s.z.array(s.z.object({key:s.z.string(),text:s.z.string()})),time:s.z.object({text:s.z.string(),isFast:s.z.boolean()}),logoURI:s.z.string()});s.z.union([C,P]);var D,R;(R=D||(D={})).Buy="buy",R.Sell="sell"})),a.register("gXZhK",(function(t,n){e(t.exports,"createSwapperHooks",(function(){return T}));var o=a("4raQz"),r=a("jP15q"),s=a("8a56b"),i=a("fJPlc"),u=a("9eH52"),l=a("lGEUK"),c=a("eTLWL"),d=a("eeS7y"),p=a("34pzM"),m=a("aqhqo"),g=a("9sKR9"),f=a("jhEDs"),S=a("4UoVr"),v=a("l2d9C"),y=a("jlxJl"),b=a("ezrMm"),w=a("5I5ht"),h=a("bJqn7"),k=a("capuI");function T(e,t,n,a,T,A,E,I,F,N,x){const C=new(0,o.PriorityFeeService);return{useSwapTransactions:e=>(0,i.useSwapTransactions)(Object.assign(Object.assign({},e),{accountHooks:F,priorityFeeService:C})),useSwapQuotes:e=>(0,s.useSwapQuotes)(Object.assign(Object.assign({},e),{getApiEnvironment:n,analytics:T})),useSwapRefuelProps:()=>(0,v.useSwapRefuelProps)({fungibleHooks:I,analytics:T}),useSwapCardProps:()=>(0,g.useSwapCardProps)({transactionHooks:x,priceHooks:E,accountHooks:F}),useSwapSellAssetProps:e=>(0,k.useSwapSellAssetProps)(Object.assign(Object.assign({},e),{transactionHooks:x,priceHooks:E,fungibleHooks:I,accountHooks:F,getApiEnvironment:n,queryClient:a})),useSwapProvidersProps:e=>(0,S.useSwapProvidersProps)(Object.assign(Object.assign({},e),{accountHooks:F,fungibleHooks:I,transactionHooks:x,priceHooks:E,getApiEnvironment:n,analytics:T})),useSwapReviewProps:()=>(0,b.useSwapReviewProps)({accountHooks:F,priceHooks:E,getApiEnvironment:n}),useSwapReviewButtonProps:()=>(0,y.useSwapReviewButtonProps)({accountHooks:F,fungibleHooks:I,transactionHooks:x,priceHooks:E}),useSwapConfirmationProps:n=>(0,f.useSwapConfirmationProps)(Object.assign(Object.assign({},n),{accountSigner:e,storage:t,fungibleHooks:I,priceHooks:E,settingsHooks:N,analytics:T,asyncSwapAnalytics:A,accountHooks:F,transactionHooks:x,priorityFeeService:C})),useSwapSellAssetList:()=>(0,h.useSwapSellAssetList)({fungibleHooks:I}),useSwapBuyAssetProps:()=>(0,m.useSwapBuyAssetProps)(E,T),useSwapBuyAssetList:e=>(0,p.useSwapBuyAssetList)(Object.assign(Object.assign({},e),{fungibleHooks:I,accountHooks:F,getApiEnvironment:n})),useInitialAssets:e=>(0,l.useInitialAssets)(Object.assign(Object.assign({},e),{accountHooks:F,fungibleHooks:I,getApiEnvironment:n})),useSubscribeSwapQuoteToQueries:e=>(0,d.useSubscribeSwapQuoteToQueries)(Object.assign(Object.assign({},e),{accountHooks:F,fungibleHooks:I,priceHooks:E,getApiEnvironment:n,analytics:T})),useSubscribeGasEstimation:()=>(0,c.useSubscribeGasEstimation)({accountHooks:F,transactionHooks:x,priorityFeeService:C}),useSwapScanTransaction:e=>(0,w.useSwapScanTransaction)(Object.assign(Object.assign({},e),{accountHooks:F})),useBridgeRefuelProps:()=>(0,u.useBridgeRefuelProps)({fungibleHooks:I,priceHooks:E,analytics:T}),useMultichainSwapFungibles:e=>(0,r.useMultichainSwapFungibles)(Object.assign(Object.assign({},e),{storage:t}))}}})),a.register("jP15q",(function(t,n){e(t.exports,"useMultichainSwapFungibles",(function(){return l}),(function(e){return l=e}));var o=a("gd9Oy"),r=a("fG04A"),s=a("5xIjB"),i=a("be45y"),u=function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}u((o=o.apply(e,t||[])).next())}))};const l=({accountIdentifier:e,networkID:t,accountSigner:n,storage:a})=>(0,r.useMutation)({mutationFn:r=>u(void 0,void 0,void 0,(function*(){const{swapTransactions:u,type:l}=r;if("evm"===u.type&&l===o.AddressType.EVM){const{gasEstimation:o,pendingApprovalActivityRows:i,pendingSwapActivityRows:c}=r,d=yield(0,s.swapTransactionEvm)({transactions:u.transactions,transactionTypes:u.transactionTypes,networkID:t,gasEstimation:o,pendingSwapActivityRows:c,pendingApprovalActivityRows:i,accountIdentifier:e,accountSigner:n,storage:a});return{networkID:t,chainType:l,id:d}}if("solana"===u.type&&l===o.AddressType.Solana){const{callerAddress:o,connection:s,pendingSwapActivityRows:c}=r;if(!s)throw new Error("missing connection");const d=yield(0,i.swapTransactionSolana)({callerAddress:o,connection:s,networkID:t,transactions:u.transactions,pendingSwapActivityRows:c,accountIdentifier:e,accountSigner:n,storage:a});return{networkID:t,chainType:l,id:d}}throw new Error("unsupported")}))})})),a.register("5xIjB",(function(t,n){e(t.exports,"swapTransactionEvm",(function(){return u}),(function(e){return u=e}));var o=a("4chX7"),r=a("4raQz"),s=function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}u((o=o.apply(e,t||[])).next())}))};const i=({networkID:e,unsignedTransaction:t,pendingActivityRows:n,accountIdentifier:o,accountSigner:a,storage:s,includeCallPayload:i})=>Object.assign(Object.assign({accountSigner:a,accountIdentifier:o,networkID:e,unsignedTransaction:t},i&&{callPayload:{from:t.from,to:t.to,data:t.data,value:t.value}}),{pendingTransactionInput:{ownerAddress:t.from,networkID:e,data:{nonce:"",unsignedTransaction:t,hash:""},type:r.PendingTransactionType.Swap,display:{summary:n}},storage:s}),u=({transactions:e,transactionTypes:t,networkID:n,gasEstimation:a,pendingApprovalActivityRows:u,pendingSwapActivityRows:l,accountIdentifier:c,accountSigner:d,storage:p})=>s(void 0,void 0,void 0,(function*(){let s=!0,m="";for(const[g,f]of e.entries()){const e=a[g],S={gas:`0x${e.gasLimit.toString(16)}`,maxFeePerGas:`0x${e.maxFeePerGas.toString(16)}`,maxPriorityFeePerGas:`0x${e.maxPriorityFeePerGas.toString(16)}`},v=o.EthUnsignedTransactionObject.parse(Object.assign(Object.assign({},f),S)),y=t[g].includes("approval")?u:l,b=i({networkID:n,accountIdentifier:c,pendingActivityRows:y.shift(),accountSigner:d,storage:p,unsignedTransaction:v,includeCallPayload:s});m=yield(0,r.signAndSendEthereumTransactionAsync)(b),s&&(s=!1)}return m}))})),a.register("be45y",(function(t,n){e(t.exports,"swapTransactionSolana",(function(){return l}),(function(e){return l=e}));var o=a("3fvLJ"),r=a("4raQz"),s=a("5q8rs"),i=function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}u((o=o.apply(e,t||[])).next())}))};const u=({networkID:e,transaction:t,feePayer:n,connection:o,pendingActivityRows:a,accountIdentifier:s,accountSigner:i,storage:u})=>({accountSigner:i,accountIdentifier:s,transaction:t,feePayer:n,connection:o,opts:{skipPreflight:!0},pendingTransactionInput:{ownerAddress:n.toBase58(),networkID:e,data:{signature:""},type:r.PendingTransactionType.Swap,display:{summary:a}},storage:u}),l=({callerAddress:e,connection:t,networkID:n,transactions:a,pendingSwapActivityRows:l,accountIdentifier:c,accountSigner:d,storage:p})=>i(void 0,void 0,void 0,(function*(){const i=new(0,o.PublicKey)(e),m=(yield t.getLatestBlockhash("confirmed")).blockhash;let g;for(const[e,f]of a.entries()){const a=(0,o.transactionStringToTransaction)(f,"bs58");(0,o.setRecentBlockhash)(a,m);const S=u({networkID:n,transaction:a,feePayer:i,connection:t,pendingActivityRows:l[e],accountIdentifier:c,accountSigner:d,storage:p});g=yield(0,r.signAndSendSolanaTransactionAsync)(S),yield(0,s.waitForTransactionConfirmationAsync)(t,g)}return null!=g?g:""}))})),a.register("8a56b",(function(t,n){e(t.exports,"useSwapQuotes",(function(){return l}),(function(e){return l=e}));var o=a("lNRH9"),r=a("2EqRO"),s=a("eVFQN"),i=a("1TYDM"),u=function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}u((o=o.apply(e,t||[])).next())}))};const l=({sellToken:e,buyToken:t,taker:n,takerDestination:a,sellAmount:l,slippageTolerance:c,refuelEnabled:d,enableNextJupiterClient:p,getApiEnvironment:m,analytics:g})=>{const f=!!l&&!!t&&!!e,S=s.swapperQueryKeys.quotes(e,t,n,l,c,d,p,a);return(0,o.useQuery)({queryKey:S,enabled:f,cacheTime:0,staleTime:0,refetchInterval:i.RefetchInterval.Short,queryFn({queryKey:[,,{sellToken:e,buyToken:t,taker:n,sellAmount:o,slippageTolerance:s}]}){return u(this,void 0,void 0,(function*(){if(!o||!t||!e)throw new Error("missing necessary args");const i=m(),u=yield(0,r.getSwapQuotes)({apiEnv:i,sellToken:e,buyToken:t,taker:n,takerDestination:a,sellAmount:o,slippageTolerance:s,refuelEnabled:d,enableNextJupiterClient:p});return g.capture("swapperQuotesResult",{data:{numQuotes:u.quotes.length,sellToken:e,fromNetworkId:e.chainId,toNetworkId:t.chainId}}),u}))}})}})),a.register("2EqRO",(function(n,o){e(n.exports,"getSwapQuotes",(function(){return g}),(function(e){return g=e}));var r=a("belzv"),s=a("lMzyG"),i=a("6656F"),u=a("99TPq"),l=a("kfeLD"),c=a("bYjFX"),d=function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}u((o=o.apply(e,t||[])).next())}))};const p="swap-quotes",m=["SwapperNoQuotes","UnsupportedCountry","UnknownError"];function g({apiEnv:e,sellToken:n,buyToken:o,taker:a,takerDestination:g,sellAmount:f,slippageTolerance:S,refuelEnabled:v,enableNextJupiterClient:y}){return d(this,void 0,void 0,(function*(){let d;try{(0,r.isEvmCaip19Address)(a)&&(a.address=a.address.toLowerCase()),g&&(0,r.isEvmCaip19Address)(g)&&(g.address=g.address.toLowerCase()),(0,r.isEvmCaip19Address)(o)&&(o.address=o.address.toLowerCase()),(0,r.isEvmCaip19Address)(n)&&(n.address=n.address.toLowerCase());const s=`${e}/swap/v2/quotes`,u=yield t(i)(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object.assign(Object.assign({sellToken:n,buyToken:o,taker:a,takerDestination:g,sellAmount:f,slippageTolerance:S},v?{refuel:1,ignoreRefuelFailures:!0}:{}),{enableNextJupiterClient:y}))});return d=u.status,yield(0,l.handleBadResponse)(u,p),(0,c.parseSwapQuotesResponse)(yield u.json(),v)}catch(t){const r=t instanceof s.LocalizedError?t:new(0,s.LocalizedError);throw m.includes(r.code)||(0,u.captureClientError)(r,d,p,{apiEnv:e,sellToken:n,buyToken:o,sellAmount:f,slippageTolerance:S}),r}}))}})),a.register("99TPq",(function(t,n){e(t.exports,"captureClientError",(function(){return r}));var o=a("4yY1D");const r=(e,t,n,r)=>{(!t||t>=400&&t<500)&&(o.telemetry.addBreadcrumb(n,JSON.stringify(r),o.Severity.Info),o.telemetry.captureError(e,o.FeatureTag.Swapper))}})),a.register("kfeLD",(function(t,n){e(t.exports,"handleBadResponse",(function(){return u}),(function(e){return u=e}));var o=a("lMzyG"),r=a("4yY1D"),s=a("uleZn"),i=function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}u((o=o.apply(e,t||[])).next())}))};const u=(e,t,n)=>i(void 0,void 0,void 0,(function*(){if(e.ok)return;let a;try{a=yield e.json()}catch(e){throw new(0,o.LocalizedError)({key:n})}const i=s.ErrorResponse.safeParse(a);if(i.success)throw r.telemetry.addBreadcrumb(t,JSON.stringify(i.data),r.Severity.Info),new(0,o.LocalizedError)({key:i.data.name});throw new(0,o.LocalizedError)({key:n})}))})),a.register("bYjFX",(function(t,n){e(t.exports,"parseSwapQuotesResponse",(function(){return s}));var o=a("lMzyG"),r=a("uleZn");const s=(e,t)=>{const n=new(0,o.LocalizedError)({key:"SwapperNoQuotes"});if(!1===r.QuoteType.safeParse(null==e?void 0:e.type).success)throw new Error("Invalid input");const a=r.SwapperQuoteResponse.safeParse(e);if(!a.success)throw n;if(0===a.data.quotes.length){if(t)throw new(0,o.LocalizedError)({key:"SwapperRefuelNoQuotes"});throw n}return a.data}})),a.register("eVFQN",(function(t,n){e(t.exports,"SWAPPER_QUERY_KEYS_PREFIX",(function(){return r})),e(t.exports,"swapperQueryKeys",(function(){return s}));const o="swapper";var r,a;(a=r||(r={})).pairs="pairs",a.quotes="quotes",a.transactions="transactions";const s={pairs:(e,t,n,a,s)=>[o,r.pairs,{sellToken:e,supportedNetworkIds:t,enableBridgePairs:n,enableNextJupiterClient:a,enableNativeBridgePairs:s}],quotes:(e,t,n,a,s,i,u,l)=>[o,r.quotes,{sellToken:e,buyToken:t,taker:n,takerDestination:l,sellAmount:a,slippageTolerance:s,refuelEnabled:i,enableNextJupiterClient:u}],transactions:e=>[o,r.transactions,e]}})),a.register("1TYDM",(function(t,n){e(t.exports,"CacheTime",(function(){return o})),e(t.exports,"StaleTime",(function(){return s})),e(t.exports,"RefetchInterval",(function(){return u}));var o,r,s,i,u,l,c=a("4y59b");(r=o||(o={}))[r.Always=1/0]="Always",r[r.Short=(0,c.toMilliseconds)({days:1})]="Short",r[r.Medium=(0,c.toMilliseconds)({days:3})]="Medium",r[r.Long=(0,c.toMilliseconds)({days:7})]="Long",(i=s||(s={}))[i.Immediate=0]="Immediate",i[i.Short=(0,c.toMilliseconds)({minutes:1})]="Short",i[i.Medium=(0,c.toMilliseconds)({minutes:2.5})]="Medium",i[i.Long=(0,c.toMilliseconds)({minutes:60})]="Long",i[i.Never=1/0]="Never",(l=u||(u={}))[l.Short=(0,c.toMilliseconds)({seconds:20})]="Short",l[l.Medium=(0,c.toMilliseconds)({minutes:2.5})]="Medium",l[l.Long=(0,c.toMilliseconds)({minutes:5})]="Long"})),a.register("fJPlc",(function(n,o){e(n.exports,"useSwapTransactions",(function(){return y}),(function(e){return y=e}));var r=a("belzv"),s=a("4chX7"),i=a("3fvLJ"),u=a("4yY1D"),l=a("4raQz"),c=a("lNRH9"),d=a("3yHS8"),p=a("bz65k"),m=a("eVFQN"),g=a("1TYDM"),f=function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}u((o=o.apply(e,t||[])).next())}))};const S=({callerAddress:e,contractAddress:n,networkId:o,sellAmount:a,allowanceTarget:i,exchangeAddress:u,value:c,transactionData:p,type:m})=>f(void 0,void 0,void 0,(function*(){const g=[],f=[];if(n){if((yield(0,l.getERC20Allowance)({callerAddress:e,spender:i,networkId:o,contractAddress:n})).lt(a.toString())){const t=yield(0,l.getERC20Approval)({callerAddress:e,spender:i,networkId:o,contractAddress:n});g.push(t),f.push(`${m}-approval`)}}const S=s.EthUnsignedTransactionObject.parse(Object.assign({type:s.TransactionTypes.eip1559,from:e,data:p,chainId:r.Chains.getEVMNetworkIDValue(o),to:u},"0"===c?{}:{value:`0x${new(t(d))(c).toString(16)}`}));return g.push(S),f.push(m),{transactions:g,transactionTypes:f}})),v=({quote:e,priorityFeeService:t,connection:n})=>f(void 0,void 0,void 0,(function*(){const o=e.transactionData.map((e=>((e,t,n)=>f(void 0,void 0,void 0,(function*(){const o=(0,i.transactionStringToTransaction)(e,"bs58");return yield t.addPriorityFee(o,{connection:n,transactionType:l.TransactionTypeValue.Swap,calculators:{budget:new(0,l.StaticLimitCalculator)(l.COMPUTE_UNIT_LIMIT)}})})))(e,t,n))),r=(yield Promise.all(o)).map((e=>l.TransactionSerializationUtils.serialize(e).transaction));return{type:"solana",transactionTypes:r.map((()=>"swap")),transactions:r}})),y=({accountHooks:e,priorityFeeService:t,callerAddress:n,sellFungible:o,quote:a})=>{const{connection:s}=e.useSelectedSolanaConnection(),i=m.swapperQueryKeys.transactions(a);return(0,c.useQuery)({queryKey:i,enabled:!!a,cacheTime:0,staleTime:0,refetchInterval:g.RefetchInterval.Short,onError(e){e instanceof Error&&u.telemetry.captureError(e,u.FeatureTag.Swapper)},queryFn(){return f(this,void 0,void 0,(function*(){if(!a)throw new Error("Missing quote");const e=null==o?void 0:o.data.chain.id;if((0,p.isSingleNetworkSwapQuote)(a)){if(r.Chains.isEVMNetworkID(e)&&(0,p.isEvmSwapQuote)(a))return(({networkId:e,callerAddress:t,quote:n,sellFungible:o})=>f(void 0,void 0,void 0,(function*(){var r;const a=null!==(r=null==o?void 0:o.data.tokenAddress)&&void 0!==r?r:"",{allowanceTarget:s,exchangeAddress:i,sellAmount:u,value:l}=n,c=yield S({callerAddress:t,contractAddress:a,networkId:e,sellAmount:u,allowanceTarget:s,exchangeAddress:i,value:l,transactionData:n.transactionData,type:"swap"});return Object.assign({type:"evm"},c)})))({networkId:e,callerAddress:n,quote:a,sellFungible:o});if(r.Chains.isSolanaNetworkID(e)&&(0,p.isSolanaSwapQuote)(a))return v({quote:a,priorityFeeService:t,connection:s});throw new Error(`Single network swap quote not supported for network ID ${e}`)}if((0,p.isBridgeQuote)(a)){if(r.Chains.isEVMNetworkID(e))return(({networkId:e,callerAddress:t,quote:n})=>f(void 0,void 0,void 0,(function*(){const{sellAmount:o,steps:a}=n,s=[],i=[],u=[];for(const n of a){const{allowanceTarget:a,exchangeAddress:l,value:c,transactionData:d,sellToken:p,buyToken:m,approvalMetadata:g}=n,f=p.resourceType===r.Caip19ResourceType.address?p.address:null,v=0===r.Chains.compareNetworkID(p.chainId,m.chainId)?"swap":"bridge";if(!(a&&l&&d&&c))throw new Error("Missing bridge step data for EVM bridge quote.");const y=yield S({callerAddress:t,contractAddress:f,networkId:e,sellAmount:o,allowanceTarget:a,exchangeAddress:l,value:c,transactionData:d,type:v});s.push(...y.transactions),i.push(...y.transactionTypes),u.push({sellToken:p,buyToken:m,approvalMetadata:g}),2==y.transactionTypes.length&&y.transactionTypes.find((e=>e.includes("approval")))&&u.push({sellToken:p,buyToken:m,approvalMetadata:g})}return{type:"evm",transactions:s,transactionTypes:i,transactionPairs:u}})))({networkId:e,callerAddress:n,quote:a});if(r.Chains.isSolanaNetworkID(e))return(e=>f(void 0,void 0,void 0,(function*(){const t=e.steps.reduce(((e,t)=>{const{transactionData:n,sellToken:o,buyToken:a}=t,s=0===r.Chains.compareNetworkID(o.chainId,a.chainId)?"swap":"bridge",i=[...e.transactions],u=[...e.transactionTypes],l=[...e.transactionPairs];return i.push(n),u.push(s),l.push({sellToken:o,buyToken:a}),{transactions:i,transactionTypes:u,transactionPairs:l}}),{transactions:[],transactionTypes:[],transactionPairs:[]});return Object.assign({type:"solana"},t)})))(a);throw new Error(`Bridge quote not supported for network ID ${e}`)}throw new Error("Swap quote type not supported")}))}})}})),a.register("bz65k",(function(t,n){e(t.exports,"isBridgeQuote",(function(){return r})),e(t.exports,"isSolanaSwapQuote",(function(){return s})),e(t.exports,"isEvmSwapQuote",(function(){return i})),e(t.exports,"isSingleNetworkSwapQuote",(function(){return u}));var o=a("uleZn");function r(e){return o.BridgeQuote.safeParse(e).success}function s(e){return o.SolanaSwapQuote.safeParse(e).success}function i(e){return o.EvmSwapQuote.safeParse(e).success}function u(e){return s(e)||i(e)}})),a.register("9eH52",(function(n,o){e(n.exports,"useBridgeRefuelProps",(function(){return c}));var r=a("4QHep"),s=a("3yHS8"),i=a("gmVmN"),u=a("lmbzb"),l=a("l2d9C");const c=({fungibleHooks:e,priceHooks:n,analytics:o})=>{const{isFetchingQuote:a}=(0,u.useQuote)(),{refuelEnabled:c,setRefuelEnabled:d,refuelAmount:p,uiRefuelAmount:m,buyNativeToken:{symbol:g,balance:f,decimals:S,priceId:v}}=(0,l.useSwapRefuelProps)({fungibleHooks:e,analytics:o}),{data:y}=n.usePrice({query:{type:"id",data:v}});let b="";if((null==y?void 0:y.usd)&&p&&S){const e=(0,r.assetToDollars)((0,i.amountToUiAmount)(new(t(s))(p),S).toNumber(),y.usd);b=(0,i.formatDollarAmount)(e)}return{symbol:g,balance:f,refuelAmount:p,uiRefuelAmount:m,estimatedCost:b,refuelEnabled:c,setRefuelEnabled:d,isFetchingQuote:a}}})),a.register("lmbzb",(function(t,n){e(t.exports,"useQuote",(function(){return s}));var o=a("lDSNw"),r=a("jG6nq");function s(){var e,t;const n=(0,r.useSwapperStore)((e=>e.multichainQuoteResponse)),a=(0,r.useSwapperStore)((e=>e.hasNoRoutes)),s=(0,r.useSwapperStore)((e=>e.selectedProviderIndex)),i=(0,r.useSwapperStore)((e=>e.isFetchingQuote)),u=(0,o.useMemo)((()=>n?n.quotes:[]),[n]),l=u.length>0?u[s]:void 0;return{bestBuyAmount:null!==(t=null===(e=u[0])||void 0===e?void 0:e.buyAmount)&&void 0!==t?t:"",currentQuote:l,hasNoRoutes:a,multichainQuoteResponse:n,quotes:u,selectedProviderIndex:s,isFetchingQuote:i}}})),a.register("l2d9C",(function(t,n){e(t.exports,"useSwapRefuelProps",(function(){return g}));var o=a("belzv"),r=a("gYh0e"),s=a("lMzyG"),i=a("lDSNw"),u=a("gmVmN"),l=a("jG6nq"),c=a("4crE8"),d=a("bz65k"),p=a("9W4OB"),m=a("lmbzb");const g=({fungibleHooks:e,analytics:t})=>{var n,a,g,f;const{currentQuote:S}=(0,m.useQuote)(),v=(0,p.useIsRefuelSupported)({fungibleHooks:e}),y=(0,l.useSwapperStore)((e=>e.buyFungible)),b=null==y?void 0:y.data.chain.id,{fungible:w}=e.useFungible({key:b?(0,r.networkIdToNativeTokenFungibleKey)(b):void 0}),h=b?o.Chains.getTokenSymbol(b):"",k=null!==(n=null==w?void 0:w.data.decimals)&&void 0!==n?n:0,T=(0,l.useSwapperStore)((e=>e.refuelEnabled)),A=(0,l.useSwapperStore)((e=>e.setRefuelEnabled)),E=(0,i.useCallback)((e=>{t.capture("swapperRefuelToggle",{data:{value:e}}),A(e)}),[A,t]),I=(0,d.isBridgeQuote)(S)?S.refuelAmount:void 0,F=I?`${(0,u.amountToFormattedAmount)(null!=I?I:0,k)} ${h}`:void 0,N=(0,u.amountToFormattedAmount)(null!==(a=null==w?void 0:w.data.amount)&&void 0!==a?a:0,k),x=(0,c.shouldShowRefuelOption)(v,T,I);return{label:s.i18next.t("bridgeRefuelTitle"),refuelSupported:v,refuelEnabled:T,setRefuelEnabled:E,refuelAmount:I,uiRefuelAmount:F,showRefuelOption:x,buyNativeToken:{priceId:null!==(f=null===(g=null==w?void 0:w.data)||void 0===g?void 0:g.coingeckoId)&&void 0!==f?f:"",symbol:h,balance:N,decimals:k}}}})),a.register("4crE8",(function(t,n){e(t.exports,"shouldShowRefuelOption",(function(){return o}));const o=(e,t,n)=>!(!e||t&&!n)})),a.register("9W4OB",(function(n,o){e(n.exports,"useIsRefuelSupported",(function(){return p}));var r=a("belzv"),s=a("gYh0e"),i=a("3yHS8"),u=a("lDSNw"),l=a("jG6nq"),c=a("oo4df"),d=a("eCE6v");const p=({fungibleHooks:e})=>{const[n,o]=(0,u.useState)(!1),a=(0,l.useSwapperStore)((e=>e.sellFungible)),p=(0,l.useSwapperStore)((e=>e.buyFungible)),m=null==p?void 0:p.data.chain.id,g=(0,d.isBridgeSwap)(null==a?void 0:a.data.chain.id,null==p?void 0:p.data.chain.id),{fungible:f}=e.useFungible({key:m?(0,s.networkIdToNativeTokenFungibleKey)(m):void 0});return(0,u.useEffect)((()=>{var e;if(!f)return void o(!1);const n=c.DEFAULT_FEES[g?"bridge":"swap"][r.Chains.getChainID(f.data.chain.id)],a=new(t(i))(null!==(e=f.data.amount)&&void 0!==e?e:0).gte(n);o(g&&!a)}),[f,g,o]),n}})),a.register("oo4df",(function(n,o){e(n.exports,"DEFAULT_FEES",(function(){return l})),e(n.exports,"getMaxSellAmount",(function(){return c}));var r=a("belzv"),s=a("gYh0e"),i=a("3yHS8"),u=a("gmVmN");const l={swap:{[r.Chain.Bitcoin]:new(t(i))(0),[r.Chain.Solana]:new(t(i))(3e6),[r.Chain.Ethereum]:new(t(i))(2.5*10**16),[r.Chain.Polygon]:new(t(i))(6*10**16)},bridge:{[r.Chain.Bitcoin]:new(t(i))(0),[r.Chain.Solana]:new(t(i))(3e6),[r.Chain.Ethereum]:new(t(i))(3.75*10**16),[r.Chain.Polygon]:new(t(i))(6*10**16)}};function c(e,n,o=!1){const{decimals:a,amount:c,chain:d}=e.data,p=new(t(i))(c),m=(0,s.isNative)(e.type)?l[o?"bridge":"swap"][r.Chains.getChainID(d.id)]:n,g=e&&(0,s.isNative)(e.type)&&p.gt(m)?p.minus(m).toString():p.toString();return(0,u.amountToUiAmountString)(g,a)}})),a.register("eCE6v",(function(t,n){e(t.exports,"isBridgeSwap",(function(){return r}));var o=a("belzv");const r=(e,t)=>!!e&&!!t&&0!==o.Chains.compareNetworkID(e,t)})),a.register("lGEUK",(function(t,n){e(t.exports,"useInitialAssets",(function(){return g}));var o=a("belzv"),r=a("gYh0e"),s=a("lDSNw"),i=a("54Hrp"),u=a("jG6nq"),l=a("c9ZwG"),c=a("34pzM"),d=a("bJqn7");const p=e=>{if(e)try{return(0,o.decodeCaip19)(e)}catch(e){return}},m=(e,t)=>e.find((e=>{const n=(0,r.getFungibleTokenTypeFromFungibleCaip19)(t);return!(!(0,r.isNative)(n)||n!==e.type)||(t.resourceType===o.Caip19ResourceType.address?t.address===(0,r.parseFungibleKey)(e):void 0)}));function g({paramsSellFungible:e,paramsSellAmount:t,paramsBuyFungible:n,enableBridgePairs:o,enableNextJupiterClient:a,enableNativeBridgePairs:g,accountHooks:f,fungibleHooks:S,getApiEnvironment:v}){const y=(0,s.useMemo)((()=>p(e)),[e]),b=(0,s.useMemo)((()=>p(n)),[n]),w=t,{data:h}=f.useSelectedMultiChainAccount(),{assets:k,isLoading:T}=(0,d.useSwapSellAssetList)({fungibleHooks:S}),{assets:A,isLoading:E}=(0,c.useSwapBuyAssetList)({fungibleHooks:S,accountHooks:f,getApiEnvironment:v,enableBridgePairs:o,enableNextJupiterClient:a,enableNativeBridgePairs:g,enableQuery:!!b}),I=(0,l.useInitialSellFungible)({accountHooks:f}),F=(0,u.useSwapperStore)((e=>e.setBuyFungible)),N=(0,u.useSwapperStore)((e=>e.setSellFungible)),x=(0,u.useSwapperStore)((e=>e.setUiSellAmount)),C=(0,u.useSwapperStore)((e=>e.setSellAmount)),P=(0,u.useSwapperStore)((e=>e.buyFungible)),D=(0,u.useSwapperStore)((e=>e.sellFungible));(0,s.useEffect)((()=>{if(!y&&b)return(0,r.isNative)((0,r.getFungibleTokenTypeFromFungibleCaip19)(b))?void N(i.CHAIN_TO_USDC_FUNGIBLE.get(b.chainId)):void N(i.CHAIN_TO_NATIVE_FUNGIBLE.get(b.chainId));if(T||!y)return;let e=m(k,y);e||((0,r.isNative)((0,r.getFungibleTokenTypeFromFungibleCaip19)(y))?e=i.CHAIN_TO_NATIVE_FUNGIBLE.get(y.chainId):b&&b.chainId===y.chainId&&(e=(0,r.isNative)((0,r.getFungibleTokenTypeFromFungibleCaip19)(b))?i.CHAIN_TO_USDC_FUNGIBLE.get(b.chainId):i.CHAIN_TO_NATIVE_FUNGIBLE.get(b.chainId))),N(e)}),[y,b,T,N]),(0,s.useEffect)((()=>{if(E||!b)return;let e=m(A,b);!e&&(0,r.isNative)((0,r.getFungibleTokenTypeFromFungibleCaip19)(b))&&(e=i.CHAIN_TO_NATIVE_FUNGIBLE.get(b.chainId)),F(e)}),[b,E,F]),(0,s.useEffect)((()=>(y||b||N(I),b||F(void 0),()=>{N(void 0),F(void 0)})),[null==h?void 0:h.identifier]),(0,s.useEffect)((()=>{w&&(C(w),x(w))}),[w,x,C]);return{isLoading:!!y&&!D&&T||!!b&&!P&&E}}})),a.register("c9ZwG",(function(t,n){e(t.exports,"useInitialSellFungible",(function(){return s}));var o=a("lDSNw"),r=a("bE1j2");const s=({accountHooks:e})=>{const t=e.useSelectedNetworks();return(0,o.useMemo)((()=>(0,r.getInitialSellFungible)(t)),[t])}})),a.register("bE1j2",(function(t,n){e(t.exports,"getInitialSellFungible",(function(){return r}));var o=a("54Hrp");const r=e=>{var t;return 0===e.length?o.INITIAL_SELL_FUNGIBLE:null!==(t=o.CHAIN_TO_NATIVE_FUNGIBLE.get(e[0]))&&void 0!==t?t:o.INITIAL_SELL_FUNGIBLE}})),a.register("34pzM",(function(t,n){e(t.exports,"useSwapBuyAssetList",(function(){return m}));var o=a("belzv"),r=a("gYh0e"),s=a("lDSNw"),i=a("NQvFB"),u=a("LF6im"),l=a("jG6nq"),c=a("eJHvJ"),d=a("a2OUs"),p=a("5WyUW");function m({fungibleHooks:e,accountHooks:t,getApiEnvironment:n,enableBridgePairs:a,enableNextJupiterClient:m,enableNativeBridgePairs:g,enableQuery:f=!0}){var S,v,y;const b=(0,l.useSwapperStore)((e=>e.sellFungible)),{fungibles:w,isLoadingTokens:h,isRefetchingTokens:k,tokensError:T}=e.useFungibles(),A=(0,p.useSwapAssetCaip19)(b),{data:E}=t.useSelectedChainAddress({address:null===(S=null==b?void 0:b.data)||void 0===S?void 0:S.walletAddress,networkID:null===(v=null==b?void 0:b.data)||void 0===v?void 0:v.chain.id}),I=null!==(y=null==E?void 0:E.address)&&void 0!==y?y:"",F=(0,d.useSupportedNetworkIDs)({accountHooks:t}),{data:N=[],isLoading:x,error:C}=(0,u.useSwapPairs)({sellToken:A,supportedNetworkIDs:F,enableBridgePairs:a,enableNextJupiterClient:m,enableNativeBridgePairs:g,getApiEnvironment:n,enableQuery:f}),P=(0,s.useMemo)((()=>new Map(w.map((e=>[e.data.key,e])))),[w]),D=(0,s.useMemo)((()=>{if(0===N.length)return[];return N.reduce(((e,t)=>{let n="";const a=t.address;let s;t.address===i.WRAPPED_SOLANA.address?n=r.FungibleTokenType.SolanaNative:t.resourceType===o.Caip19ResourceType.nativeToken?n=(0,r.networkIdToNativeTokenFungibleKey)(t.chainId):a&&(n=a);const u=P.get(n);return s=u&&u.data.balance?u:(0,c.swapTokenToFungible)(t,I),s&&e.push(s),e}),[]).sort(r.compareFungibleBalance)}),[P,N,I]);return(0,s.useMemo)((()=>({assets:D,initialFilterKey:null==b?void 0:b.data.chain.id,isLoading:h||x,isFetching:h||x||k,error:null!=T?T:C})),[D,h,x,k,T,C,b])}})),a.register("LF6im",(function(t,n){e(t.exports,"useSwapPairs",(function(){return c}),(function(e){return c=e})),e(t.exports,"prefetchSwapPairs",(function(){return d}),(function(e){return d=e}));var o=a("lNRH9"),r=a("iYZCj"),s=a("eVFQN"),i=a("1TYDM"),u=function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}u((o=o.apply(e,t||[])).next())}))};const l=({sellToken:e,supportedNetworkIDs:t,enableBridgePairs:n,enableNextJupiterClient:o,enableNativeBridgePairs:a,getApiEnvironment:s})=>u(void 0,void 0,void 0,(function*(){if(!e)throw new Error("missing sell token");const i=s();return(0,r.getSwapPairs)({apiEnv:i,sellToken:e,supportedNetworkIDs:t,enableBridgePairs:n,enableNextJupiterClient:o,enableNativeBridgePairs:a})})),c=({sellToken:e,supportedNetworkIDs:t,enableBridgePairs:n,enableNextJupiterClient:r,enableNativeBridgePairs:a,enableQuery:u=!0,getApiEnvironment:c})=>(0,o.useQuery)({queryKey:s.swapperQueryKeys.pairs(e,t,n,r,a),cacheTime:i.CacheTime.Always,staleTime:i.StaleTime.Long,refetchInterval:i.RefetchInterval.Short,enabled:!!e&&u,queryFn:()=>l({sellToken:e,supportedNetworkIDs:t,enableBridgePairs:n,enableNextJupiterClient:r,enableNativeBridgePairs:a,getApiEnvironment:c})}),d=({sellToken:e,supportedNetworkIDs:t,enableBridgePairs:n,enableNextJupiterClient:o,enableNativeBridgePairs:r,getApiEnvironment:a,queryClient:i})=>{i.prefetchQuery(s.swapperQueryKeys.pairs(e,t,n,o,r),(()=>l({sellToken:e,supportedNetworkIDs:t,enableBridgePairs:n,enableNextJupiterClient:o,enableNativeBridgePairs:r,getApiEnvironment:a})))}})),a.register("iYZCj",(function(n,o){e(n.exports,"getSwapPairs",(function(){return m}),(function(e){return m=e}));var r=a("belzv"),s=a("lMzyG"),i=a("6656F"),u=a("99TPq"),l=a("kfeLD"),c=a("2g1O7"),d=function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}u((o=o.apply(e,t||[])).next())}))};const p="swap-pairs";function m({apiEnv:e,sellToken:n,supportedNetworkIDs:o,enableBridgePairs:a,enableNextJupiterClient:m,enableNativeBridgePairs:g}){return d(this,void 0,void 0,(function*(){let d;try{(0,r.isEvmCaip19Address)(n)&&(n.address=n.address.toLowerCase());const s=`${e}/swap/v2/pairs`,u=yield t(i)(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tokens:[n],includeBridgePairs:a,enableNextJupiterClient:m,enableNativeBridgePairs:g,supportedNetworkIDs:o})});return d=u.status,yield(0,l.handleBadResponse)(u,p),(0,c.parseSwapPairsResponse)(yield u.json())}catch(t){const o=t instanceof s.LocalizedError?t:new(0,s.LocalizedError);throw(0,u.captureClientError)(o,d,p,{apiEnv:e,sellToken:n}),o}}))}})),a.register("2g1O7",(function(t,n){e(t.exports,"parseSwapPairsResponse",(function(){return s}));var o=a("belzv"),r=a("uleZn");const s=e=>{var t;if(!e.tokens)return[];const n=[],a=Object.keys(e.tokens)[0];if(o.BRI.safeParse(a).success){(null!==(t=e.tokens[a])&&void 0!==t?t:[]).forEach((e=>{const t=r.SwapToken.safeParse(e);t.success&&n.push(t.data)}))}return n}})),a.register("eJHvJ",(function(n,o){e(n.exports,"swapTokenToFungible",(function(){return d}));var r=a("belzv"),s=a("gYh0e"),i=a("3yHS8");const u={id:r.Chains.solana.mainnetID,imageUrl:r.Chains.solana.iconUrl,name:r.Chains.solana.name,symbol:r.Chains.solana.tokenSymbol},l={id:r.Chains.ethereum.mainnetID,imageUrl:r.Chains.ethereum.iconUrl,name:r.Chains.ethereum.name,symbol:r.Chains.ethereum.tokenSymbol},c={id:r.Chains.polygon.mainnetID,imageUrl:r.Chains.polygon.iconUrl,name:r.Chains.polygon.name,symbol:r.Chains.polygon.tokenSymbol},d=(e,n)=>{var o,a;const d={amount:"0",balance:new(t(i))(0),coingeckoId:null!==(a=null===(o=e.extensions)||void 0===o?void 0:o.coingeckoId)&&void 0!==a?a:null,decimals:e.decimals,key:e.address,logoUri:e.logoURI,mintAddress:e.address,name:e.name,splTokenAccountPubkey:"",symbol:e.symbol,tokenAddress:e.address,walletAddress:n};if(e.chainId===r.NetworkIDs.Ethereum.Mainnet){if(e.resourceType===r.Caip19ResourceType.nativeToken)return{type:s.FungibleTokenType.EthereumNative,data:Object.assign(Object.assign({},d),{chain:l})};if(e.resourceType===r.Caip19ResourceType.address)return{type:s.FungibleTokenType.ERC20,data:Object.assign(Object.assign({},d),{chain:l,contractAddress:e.address})}}else if(e.chainId===r.NetworkIDs.Polygon.Mainnet){if(e.resourceType===r.Caip19ResourceType.nativeToken)return{type:s.FungibleTokenType.PolygonNative,data:Object.assign(Object.assign({},d),{chain:c})};if(e.resourceType===r.Caip19ResourceType.address)return{type:s.FungibleTokenType.ERC20,data:Object.assign(Object.assign({},d),{chain:c,contractAddress:e.address})}}else if(e.chainId===r.NetworkIDs.Solana.Mainnet){if(e.resourceType===r.Caip19ResourceType.nativeToken)return{type:s.FungibleTokenType.SolanaNative,data:Object.assign(Object.assign({},d),{chain:u})};if(e.resourceType===r.Caip19ResourceType.address)return{type:s.FungibleTokenType.SPL,data:Object.assign(Object.assign({},d),{chain:u,mintAddress:e.address})}}return null}})),a.register("a2OUs",(function(t,n){e(t.exports,"useSupportedNetworkIDs",(function(){return s}));var o=a("belzv"),r=a("lDSNw");const s=({accountHooks:e})=>{const{data:t}=e.useSelectedMultiChainAccount();return(0,r.useMemo)((()=>{var e;return[...new Set((null!==(e=null==t?void 0:t.addresses)&&void 0!==e?e:[]).map((e=>e.networkID)).filter((e=>o.SolanaNetworkID.Mainnet===e||o.EthereumNetworkID.Mainnet===e||o.PolygonNetworkID.Mainnet===e)))]}),[t])}})),a.register("5WyUW",(function(t,n){e(t.exports,"useSwapAssetCaip19",(function(){return s}));var o=a("gYh0e"),r=a("lDSNw");function s(e){return(0,r.useMemo)((()=>void 0===e?void 0:(0,o.getFungibleCaip19FromFungible)(e)),[e])}})),a.register("bJqn7",(function(t,n){e(t.exports,"useSwapSellAssetList",(function(){return u}));var o=a("belzv"),r=a("lDSNw"),s=a("jG6nq"),i=a("ccoQE");function u({fungibleHooks:e}){const{fungibles:t,isLoadingTokens:n,tokensError:a}=e.useFungibles(),u=t.filter((e=>o.Chains.isSolanaNetworkID(e.data.chain.id)||o.Chains.isEVMNetworkID(e.data.chain.id))),l=(0,s.useSwapperStore)((e=>e.sellFungible)),c=(0,r.useMemo)((()=>{if(l){const e=u.findIndex((e=>(0,i.areFungiblesEqual)(e,l))),t=u[e];t&&t.data.amount!==l.data.amount&&(u[e]=l)}return u.filter((e=>"0"!==e.data.amount))}),[u,l]);return(0,r.useMemo)((()=>({assets:c,isLoading:n,error:a})),[c,n,a])}})),a.register("ccoQE",(function(t,n){function o(e,t){return e.data.key===t.data.key}e(t.exports,"areFungiblesEqual",(function(){return o}))})),a.register("eTLWL",(function(t,n){e(t.exports,"useSubscribeGasEstimation",(function(){return i}));var o=a("lDSNw"),r=a("jG6nq"),s=a("jMN3L");function i({accountHooks:e,transactionHooks:t,priorityFeeService:n}){const a=(0,r.useSwapperStore)((e=>e.setGasEstimation)),i=(0,r.useSwapperStore)((e=>e.setIsFetchingGasEstimation)),u=(0,r.useSwapperStore)((e=>e.setMaxGasEstimation)),l=(0,r.useSwapperStore)((e=>e.quoteFetchIntervalToggle)),{gasEstimation:c,isFetching:d}=(0,s.useSwapGasEstimation)({accountHooks:e,transactionHooks:t,priorityFeeService:n}),{gasEstimation:p}=(0,s.useSwapGasEstimation)({accountHooks:e,transactionHooks:t,priorityFeeService:n,includeGasBuffer:!0});(0,o.useEffect)((()=>{l?(i(d),a(c),u(p)):i(!1)}),[l,a,u,i,c,p,d])}})),a.register("jMN3L",(function(n,o){e(n.exports,"useSwapGasEstimation",(function(){return v}));var r=a("belzv"),s=a("gd9Oy"),i=a("4raQz"),u=a("3yHS8"),l=a("lDSNw"),c=a("fJPlc"),d=a("jG6nq"),p=a("bz65k"),m=a("eX6hk"),g=a("c9ZwG"),f=a("lmbzb");const S=e=>{switch(e){case r.NetworkIDs.Ethereum.Mainnet:case r.NetworkIDs.Ethereum.Goerli:case r.NetworkIDs.Ethereum.Sepolia:return 8e5;case r.NetworkIDs.Polygon.Mainnet:case r.NetworkIDs.Polygon.Mumbai:return 5e5;default:return 0}},v=({accountHooks:e,transactionHooks:n,priorityFeeService:o,includeGasBuffer:a=!1})=>{var v,y,b;const{currentQuote:w,multichainQuoteResponse:h}=(0,f.useQuote)(),k=(0,g.useInitialSellFungible)({accountHooks:e}),T=null!==(v=(0,d.useSwapperStore)((e=>e.sellFungible)))&&void 0!==v?v:k,A=null!==(y=null==T?void 0:T.data.chain.id)&&void 0!==y?y:r.NetworkIDs.Solana.Mainnet,{data:E}=e.useSelectedChainAddress({address:T.data.walletAddress,networkID:T.data.chain.id}),I=null!==(b=null==E?void 0:E.address)&&void 0!==b?b:"",{data:F}=n.useEthereumGasEstimation({networkID:r.Chains.isEVMNetworkID(A)?A:r.NetworkIDs.Ethereum.Mainnet,transactionSpeed:i.TransactionSpeed.standard,gasLimit:new(t(u))(1),refetchInterval:2e4}),{data:N,isFetching:x}=(0,c.useSwapTransactions)({accountHooks:e,priorityFeeService:o,callerAddress:I,sellFungible:T,quote:w});let C=null;"evm"===(null==N?void 0:N.type)&&r.Chains.isEVMNetworkID(A)&&(C={networkID:A,origin:"https://phantom.app",userAccount:I,transactions:N.transactions}),"solana"===(null==N?void 0:N.type)&&r.Chains.isSolanaNetworkID(A)&&(C={networkID:A,origin:"https://phantom.app",userAccount:I,transactions:N.transactions});const P=i.simulations.useScanTransaction({label:"useSwapGasEstimation",params:C}),D=P.data,{data:R,isFetching:H}=(0,m.useEstimateSolanaNetworkFee)({swapTransactions:N,chainId:r.Chains.isSolanaNetworkID(A)?A:r.NetworkIDs.Solana.Mainnet}),z=(0,l.useMemo)((()=>{if(r.Chains.isEVMNetworkID(A)&&((0,p.isEvmSwapQuote)(w)||(0,p.isBridgeQuote)(w))&&F){const{maxFeePerGas:n,maxPriorityFeePerGas:o}=F;let r=(0,p.isEvmSwapQuote)(w)?[w.gas]:(e=A,w.steps.flatMap((t=>{var n;return null!==(n=t.gasCosts)&&void 0!==n?n:[S(e)]})));if((null==D?void 0:D.chainType)===s.AddressType.EVM){const e=D.evaluation.gas;if(e){const t=e.map((e=>{var t;return null!==(t=parseInt(e,10))&&void 0!==t?t:0}));e.reduce(((e,t)=>e+parseInt(t,10)),0)>0&&(r=t)}}return r.map((e=>{var r;return{maxFeePerGas:n,maxPriorityFeePerGas:o,networkID:A,gasLimit:new(t(u))(e).multipliedBy(a?null!==(r=null==h?void 0:h.gasBuffer)&&void 0!==r?r:1.3:1).integerValue(t(u).ROUND_CEIL)}}))}var e;if(r.Chains.isSolanaNetworkID(A)&&void 0!==R)return R.map((e=>({networkID:A,value:e})))}),[A,w,F,R,D,h,a]),B=H||x||P.isFetching;return(0,l.useMemo)((()=>({gasEstimation:z,isFetching:B,isError:void 0===F})),[z,B,F])}})),a.register("eX6hk",(function(t,n){e(t.exports,"useEstimateSolanaNetworkFee",(function(){return c}),(function(e){return c=e}));var o=a("3fvLJ"),r=a("4raQz"),s=a("lNRH9"),i=function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}u((o=o.apply(e,t||[])).next())}))};const u="swap-priority-fee",l=(e,t)=>i(void 0,void 0,void 0,(function*(){const n=(0,o.transactionStringToTransaction)(e,"bs58");return{networkFeeEstimation:yield(0,r.estimateFeeFromMessage)(t,n.message)}}));function c({swapTransactions:e,chainId:t}){const n=[u,e],o=!!e&&e.transactions.length>0&&"solana"===e.type&&!!t;return(0,s.useQuery)({queryKey:n,queryFn:()=>i(this,void 0,void 0,(function*(){if(!e)throw new Error("No swap transactions");if("solana"!==e.type)throw new Error("Trying estimate network fee for non-solana txs");if(!t)throw new Error("Trying to execute swap with no chain id.");try{const n=e.transactions.map((e=>l(e,t))),o=yield Promise.all(n);return o.map((e=>e.networkFeeEstimation.value))}catch(e){return[0]}})),enabled:o})}})),a.register("eeS7y",(function(n,o){e(n.exports,"useSubscribeSwapQuoteToQueries",(function(){return v}));var r=a("lMzyG"),s=a("3yHS8"),i=a("lDSNw"),u=a("2haBb"),l=a("gmVmN"),c=a("54Hrp"),d=a("8a56b"),p=a("jG6nq"),m=a("eCE6v"),g=a("83P7Y"),f=a("9W4OB"),S=a("5WyUW");function v({accountHooks:e,fungibleHooks:n,priceHooks:o,enableBridgePairs:a,enableNextJupiterClient:v,skipInitialBuyFungible:y,getApiEnvironment:b,analytics:w}){var h,k;const T=(0,p.useSwapperStore)((e=>e.sellAmount)),A=(0,p.useSwapperStore)((e=>e.buyFungible)),E=null!=A?A:y?void 0:c.INITIAL_BUY_FUNGIBLE,I=(0,S.useSwapAssetCaip19)(E),F=(0,p.useSwapperStore)((e=>e.sellFungible)),N=(0,p.useSwapperStore)((e=>e.refuelEnabled)),x=(0,p.useSwapperStore)((e=>e.setRefuelEnabled)),C=(0,S.useSwapAssetCaip19)(F),P=(0,p.useSwapperStore)((e=>e.quoteFetchIntervalToggle)),D=(0,p.useSwapperStore)((e=>e.resetQuote)),R=(0,p.useSwapperStore)((e=>e.setHasNoRoutes)),H=(0,p.useSwapperStore)((e=>e.setError)),z=(0,p.useSwapperStore)((e=>e.setIsFetchingQuote)),B=(0,p.useSwapperStore)((e=>e.setMultichainQuoteResponse)),M=(0,p.useSwapperStore)((e=>e.setSelectedProviderIndex)),U=(0,f.useIsRefuelSupported)({fungibleHooks:n});(0,i.useEffect)((()=>x(U)),[U,E,x]);const O=(0,g.useHasSwapMinimumSellAmount)(o),Q=t(u)(O),L=(0,i.useMemo)((()=>new(t(s))(T).isGreaterThan(0)&&F?(0,l.uiAmountToAmount)(T,F.data.decimals).toString():(D(),"")),[D,T,F]),j=(0,m.isBridgeSwap)(null===(h=null==F?void 0:F.data)||void 0===h?void 0:h.chain.id,null==E?void 0:E.data.chain.id);(0,i.useEffect)((()=>{j&&w.capture("swapperRefuelDefault",{data:{default:U}})}),[U,w,j]);const{data:G}=e.useSelectedChainAddress(null===(k=null==F?void 0:F.data)||void 0===k?void 0:k.chain.id),{data:_}=e.useSelectedChainAddress(null==E?void 0:E.data.chain.id),q=(0,i.useMemo)((()=>G?{chainId:G.networkID,address:G.address,resourceType:"address"}:{}),[G]),V=(0,i.useMemo)((()=>{if(a&&j)return{chainId:null==_?void 0:_.networkID,address:null==_?void 0:_.address,resourceType:"address"}}),[a,j,null==_?void 0:_.address,null==_?void 0:_.networkID]),{data:K,error:$,isFetching:Y}=(0,d.useSwapQuotes)({sellToken:C,buyToken:I,taker:q,takerDestination:V,sellAmount:O?L:"",slippageTolerance:c.DEFAULT_SLIPPAGE,refuelEnabled:N,enableNextJupiterClient:v,getApiEnvironment:b,analytics:w}),J=(0,i.useCallback)((e=>{H(null),M(0),z(!1),R(!1),B(e)}),[H,R,z,B,M]),Z=(0,i.useCallback)((e=>{D(),z(!1),R(!0),H(e)}),[D,H,R,z]);(0,i.useEffect)((()=>{P&&(Y?z(!0):K?J(K):$&&Z($))}),[$,K,Y,J,Z,z,P,O]),(0,i.useEffect)((()=>{O?!1===Q&&O&&(H(null),R(!1)):(H(new(0,r.LocalizedError)({key:"InsufficientSellAmount"})),R(!0))}),[O,Q,H,R])}})),a.register("2haBb",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0});var n=a("lDSNw");e.exports.default=function(e){var t=n.useRef();return n.useEffect((function(){t.current=e})),t.current}})),a.register("83P7Y",(function(t,n){e(t.exports,"useHasSwapMinimumSellAmount",(function(){return l}));var o=a("belzv"),r=a("gYh0e"),s=a("4QHep"),i=a("jG6nq");const u={[o.Chain.Bitcoin]:0,[o.Chain.Solana]:0,[o.Chain.Ethereum]:20,[o.Chain.Polygon]:0},l=e=>{const t=(0,i.useSwapperStore)((e=>e.sellFungible)),n=(0,i.useSwapperStore)((e=>e.buyFungible)),a=(0,i.useSwapperStore)((e=>e.sellAmount)),l=t?(0,r.getFungibleCaip19FromFungible)(t):null,{data:c}=e.usePrice(Object.assign({},l?(0,s.getPriceQueryFromFungibleCaip19)(l):{query:{type:"id",data:""}})),d=null==t?void 0:t.data.chain.id,p=null==n?void 0:n.data.chain.id,m=null==c?void 0:c.usd;if(!(d&&p&&a&&m&&0!==o.Chains.compareNetworkID(d,p)))return!0;const g=(0,s.assetToDollars)(Number(a),m),f=u[o.Chains.getChainID(d)],S=u[o.Chains.getChainID(p)];return f<=g&&S<=g}})),a.register("aqhqo",(function(t,n){e(t.exports,"useSwapBuyAssetProps",(function(){return p}));var o=a("belzv"),r=a("gYh0e"),s=a("4QHep"),i=a("gmVmN"),u=a("jG6nq"),l=a("3Ywqm"),c=a("lmbzb");const d={chainId:o.NetworkIDs.Solana.Mainnet,slip44:o.Slip44.Solana,resourceType:o.Caip19ResourceType.nativeToken};function p(e,t){var n,o;const a=(0,u.useSwapperStore)((e=>e.buyFungible)),p=(0,u.useSwapperStore)((e=>e.isFetchingQuote)),m=null!==(n=null==a?void 0:a.data.symbol)&&void 0!==n?n:"",g=null!==(o=null==a?void 0:a.data.decimals)&&void 0!==o?o:0,{currentQuote:f,multichainQuoteResponse:S}=(0,c.useQuote)(),v=String(f&&S&&a?(0,i.amountToFormattedAmount)(f.buyAmount,g):""),y=(0,l.useOnSwitchTokens)(t),b=a?(0,r.getFungibleCaip19FromFungible)(a):null,{data:w}=e.usePrice(Object.assign({},(0,s.getPriceQueryFromFungibleCaip19)(b||d)));let h=(null==f?void 0:f.buyAmount)?"":(0,i.formatDollarAmount)(0);if((null==w?void 0:w.usd)&&(null==f?void 0:f.buyAmount)&&a){const e=(0,s.assetToDollars)((0,i.amountToUiAmount)(f.buyAmount,g).toNumber(),w.usd);h=(0,i.formatDollarAmount)(e)}return{assetButtonTitle:m,buyAmount:v,currencyValue:h,decimals:g,buyFungible:a,isFetchingQuote:p,onSwitchTokens:y}}})),a.register("3Ywqm",(function(t,n){e(t.exports,"useOnSwitchTokens",(function(){return d}));var o=a("lDSNw"),r=a("gmVmN"),s=a("54Hrp"),i=a("jG6nq"),u=a("lmbzb"),l=a("4GAXG"),c=a("606g5");const d=e=>{var t;const n=(0,i.useSwapperStore)((e=>e.sellFungible)),a=null!==(t=(0,i.useSwapperStore)((e=>e.buyFungible)))&&void 0!==t?t:s.INITIAL_BUY_FUNGIBLE,d=(0,i.useSwapperStore)((e=>e.setSellAmount)),p=(0,i.useSwapperStore)((e=>e.setUiSellAmount)),m=(0,c.useSwapSetSellAsset)(e),g=(0,l.useSwapSetBuyAsset)(e),{currentQuote:f,multichainQuoteResponse:S}=(0,u.useQuote)(),v=String(f&&S&&a?(0,r.amountToFormattedAmount)(f.buyAmount,a.data.decimals):"");return(0,o.useCallback)((()=>{d(v),p(v),a&&m(a),n&&g(n)}),[d,v,p,a,n,m,g])}})),a.register("4GAXG",(function(t,n){e(t.exports,"useSwapSetBuyAsset",(function(){return u}));var o=a("lDSNw"),r=a("jG6nq"),s=a("ccoQE"),i=a("03FUt");function u(e){const t=(0,r.useSwapperStore)((e=>e.resetQuote)),n=(0,r.useSwapperStore)((e=>e.setBuyFungible)),a=(0,r.useSwapperStore)((e=>e.buyFungible));return(0,o.useCallback)((o=>{if(a&&(0,s.areFungiblesEqual)(o,a))return;const r=(0,i.getAnalyticsAsset)(o);e.capture("swapperUpdateToAsset",{asset:r}),n(o),t()}),[e,a,t,n])}})),a.register("03FUt",(function(t,n){e(t.exports,"getAnalyticsAsset",(function(){return s}));var o=a("belzv"),r=a("gYh0e");function s(e){return{chain:o.Chain.Solana,type:"fungible",address:e.type===r.FungibleTokenType.SPL?e.data.mintAddress:void 0,symbol:e.data.symbol}}})),a.register("606g5",(function(t,n){e(t.exports,"useSwapSetSellAsset",(function(){return u}));var o=a("lDSNw"),r=a("jG6nq"),s=a("ccoQE"),i=a("03FUt");function u(e){const t=(0,r.useSwapperStore)((e=>e.buyFungible)),n=(0,r.useSwapperStore)((e=>e.sellFungible)),a=(0,r.useSwapperStore)((e=>e.setBuyFungible)),u=(0,r.useSwapperStore)((e=>e.setSellFungible)),l=(0,r.useSwapperStore)((e=>e.resetQuote)),c=null==n?void 0:n.data.amount;return(0,o.useCallback)((o=>{if(n&&(0,s.areFungiblesEqual)(o,n))return;const r=(0,i.getAnalyticsAsset)(o);e.capture("swapperUpdateFromAsset",{asset:r}),u(o),t&&n&&(0,s.areFungiblesEqual)(o,t)&&a(n),o&&(null==n?void 0:n.data.chain.id)!==o.data.chain.id&&(l(),a(void 0)),o&&o.data.amount!==c&&u(o)}),[e,u,t,n,c,a,l])}})),a.register("9sKR9",(function(t,n){e(t.exports,"useSwapCardProps",(function(){return g}));var o=a("belzv"),r=a("lyKBa"),s=a("XXDFr"),i=a("h8RYn"),u=a("i0tUX"),l=a("aAk1s"),c=a("kGQ4c"),d=a("8VnfO"),p=a("lmbzb"),m=a("kPmOk");function g({transactionHooks:e,priceHooks:t,accountHooks:n}){var a,g;const{bestBuyAmount:f,currentQuote:S,hasNoRoutes:v,multichainQuoteResponse:y,quotes:b,isFetchingQuote:w}=(0,p.useQuote)(),h=(0,u.useExchangeRate)(f,y,S),k=(0,c.usePriceImpact)((0,s.getSwapPriceImpact)(S)),T=(0,m.useSlippage)(null==y?void 0:y.simulationTolerance),A=(0,d.useProvider)((0,i.getSwapQuoteSources)(S)),E=(0,r.getSwapExecutionDuration)(S),I=(null===(a=null==y?void 0:y.sellToken)||void 0===a?void 0:a.chainId)?o.Chains.getChainName(y.sellToken.chainId):void 0,F=(null===(g=null==y?void 0:y.buyToken)||void 0===g?void 0:g.chainId)?o.Chains.getChainName(y.buyToken.chainId):void 0;return{exchangeRate:h,hasNoRoutes:v,priceImpact:k,slippage:T,provider:A,fees:(0,l.useFees)({transactionHooks:e,priceHooks:t,accountHooks:n}),nrOfQuotes:b.length,executionDuration:E,isFetchingQuote:w,sellNetwork:I,buyNetwork:F}}})),a.register("lyKBa",(function(t,n){e(t.exports,"getSwapExecutionDuration",(function(){return r}));var o=a("bz65k");const r=e=>e&&(0,o.isBridgeQuote)(e)?e.executionDuration:0})),a.register("XXDFr",(function(t,n){e(t.exports,"getSwapPriceImpact",(function(){return r}));var o=a("bz65k");const r=e=>e?(0,o.isBridgeQuote)(e)?void 0:e.priceImpact:0})),a.register("h8RYn",(function(t,n){e(t.exports,"getSwapQuoteSources",(function(){return s}));var o=a("5O9My"),r=a("bz65k");const s=e=>{var t;return e?(0,r.isBridgeQuote)(e)?(0,o.getBridgeTools)(e):null!==(t=null==e?void 0:e.sources)&&void 0!==t?t:[]:[]}})),a.register("5O9My",(function(t,n){e(t.exports,"getBridgeTools",(function(){return o}));const o=e=>e.steps.map((e=>e.tool))})),a.register("i0tUX",(function(n,o){e(n.exports,"useExchangeRate",(function(){return d}));var r=a("3yHS8"),s=a("lDSNw"),i=a("gmVmN"),u=a("jG6nq"),l=a("kvBHY");const c=t(r)(1);function d(e,n,o){const[a,d]=(0,s.useState)(!1),p=(0,s.useCallback)((()=>d(!a)),[a]),m=(0,u.useSwapperStore)((e=>e.sellFungible)),g=(0,u.useSwapperStore)((e=>e.buyFungible));return(0,s.useMemo)((()=>{let s=!1,u="";if(n&&o){const n=null==g?void 0:g.data,d=null==m?void 0:m.data;if(n&&d){const{buyAmount:p,sellAmount:m}=o,g=(0,i.amountToUiAmount)(p,n.decimals),f=(0,i.amountToUiAmount)(m,d.decimals),S=g.dividedBy(f),v=`1 ${d.symbol} ≈ ${(0,l.formatTokenAmountGreaterThan1)(S)} ${n.symbol}`,y=`1 ${n.symbol} ≈ ${(0,l.formatTokenAmountGreaterThan1)(c.dividedBy(S))} ${d.symbol}`;s=new(t(r))(o.buyAmount).isEqualTo(e),u=a?y:v}}return{isBestRate:s,rate:u,flip:p}}),[e,o,a,n,m,g,p])}})),a.register("kvBHY",(function(n,o){e(n.exports,"formatTokenAmountGreaterThan1",(function(){return u})),e(n.exports,"amountToFormattedAmountGreaterThan1",(function(){return l}));var r=a("3yHS8"),s=a("gmVmN");const i=e=>e.isGreaterThanOrEqualTo(1)?"0,0.[00]":"0,0.[00000]",u=e=>{const n=t(r)(e);return(0,s.formatTokenAmount)(e,i(n))},l=(e,n)=>{const o=new(t(r))(e).div(new(t(r))(10).pow(n));return(0,s.formatTokenAmount)(o,i(o))}})),a.register("aAk1s",(function(n,o){e(n.exports,"useFees",(function(){return S}));var r=a("belzv"),s=a("gYh0e"),i=a("3yHS8"),u=a("lDSNw"),l=a("jG6nq"),c=a("fR691"),d=a("40K6R"),p=a("bz65k"),m=a("l6sVU"),g=a("c9ZwG"),f=a("lmbzb");const S=({transactionHooks:e,priceHooks:n,accountHooks:o})=>{var a,S;const{currentQuote:v}=(0,f.useQuote)(),y=(0,g.useInitialSellFungible)({accountHooks:o}),b=null!==(a=(0,l.useSwapperStore)((e=>e.sellFungible)))&&void 0!==a?a:y,w=(0,l.useSwapperStore)((e=>e.gasEstimation)),h=(0,l.useSwapperStore)((e=>e.isFetchingGasEstimation)),k=(0,l.useSwapperStore)((e=>e.maxGasEstimation)),T=null!==(S=null==b?void 0:b.data.chain.id)&&void 0!==S?S:r.NetworkIDs.Solana.Mainnet,{data:A={}}=n.usePrices({queries:[{type:"id",data:[s.SOLANA_TOKEN_VALUES.coingeckoId,s.ETHER_TOKEN_VALUES.coingeckoId,s.MATIC_TOKEN_VALUES.coingeckoId]}]}),{data:E,isFetching:I}=e.useGasEstimationPrice(T,(0,m.aggregateGasEstimation)(w)),{data:F}=e.useGasEstimationPrice(T,(0,m.aggregateGasEstimation)(k)),N=h||I,x=(0,u.useMemo)((()=>{var e,n,o,r,a;if((0,p.isBridgeQuote)(v)){const o=v.steps.flatMap((e=>e.feeCosts)).find((e=>"phantom"===e.name));return{amount:new(t(i))(null!==(e=null==o?void 0:o.amount)&&void 0!==e?e:0),uiAmount:"",pct:parseFloat(null!==(n=null==o?void 0:o.percentage)&&void 0!==n?n:"0")}}const s=(null!==(o=null==v?void 0:v.fees)&&void 0!==o?o:[]).find((e=>"phantom"===e.type));return{amount:new(t(i))(null!==(r=null==s?void 0:s.amount)&&void 0!==r?r:0),uiAmount:"",pct:null!==(a=null==s?void 0:s.percentage)&&void 0!==a?a:0}}),[v]),C=(0,u.useMemo)((()=>{var e,n,o;if((0,p.isBridgeQuote)(v))return{amount:new(t(i))(0),uiAmount:"",pct:0};const r=(null!==(e=null==v?void 0:v.fees)&&void 0!==e?e:[]).find((e=>"Token account deposits"===e.name));return{amount:new(t(i))(null!==(n=null==r?void 0:r.amount)&&void 0!==n?n:0),uiAmount:(null==r?void 0:r.amount)?(0,c.formatFee)(T,new(t(i))(r.amount),A):"",pct:null!==(o=null==r?void 0:r.percentage)&&void 0!==o?o:0}}),[v,T,A]),P=(0,u.useMemo)((()=>{if(!v||!(0,p.isBridgeQuote)(v))return{amount:new(t(i))(0),uiAmount:"",pct:0};const e=(0,d.getBridgeStepsFees)(v);return{amount:e,uiAmount:(0,c.formatFee)(T,e,A),pct:0}}),[T,v,A]),D=(0,u.useMemo)((()=>{var e,n,o,a;return Object.assign(Object.assign({amount:null!==(e=v&&(null==E?void 0:E.gasEstimationAmount))&&void 0!==e?e:new(t(i))(0),uiAmount:null!==(n=v&&(null==E?void 0:E.gasEstimationPriceUSD))&&void 0!==n?n:""},r.Chains.isEVMNetworkID(T)?{maxAmount:null!==(o=v&&(null==F?void 0:F.gasEstimationAmount))&&void 0!==o?o:new(t(i))(0),maxUiAmount:null!==(a=v&&(null==F?void 0:F.gasEstimationPriceUSD))&&void 0!==a?a:""}:{}),{pct:0})}),[v,null==E?void 0:E.gasEstimationAmount,null==E?void 0:E.gasEstimationPriceUSD,null==F?void 0:F.gasEstimationAmount,null==F?void 0:F.gasEstimationPriceUSD,T]),R=(0,u.useMemo)((()=>{var e;const t=C.amount.plus(D.amount).plus(P.amount),n=r.Chains.isEVMNetworkID(T)?C.amount.plus(null!==(e=D.maxAmount)&&void 0!==e?e:0).plus(P.amount):void 0;return Object.assign({amount:t,uiAmount:(0,c.formatFee)(T,t,A),pct:0},r.Chains.isEVMNetworkID(T)&&n?{maxAmount:n,maxUiAmount:(0,c.formatFee)(T,n,A)}:{})}),[C.amount,D.amount,D.maxAmount,P.amount,T,A]);return(0,u.useMemo)((()=>({phantomFee:x,networkFee:D,tokenAccountFee:C,totalFees:R,nonIncludedFees:P,isFetchingFees:N})),[x,D,C,R,P,N])}})),a.register("fR691",(function(n,o){e(n.exports,"formatFee",(function(){return l}));var r=a("gYh0e"),s=a("3yHS8"),i=a("gmVmN"),u=a("kvBHY");function l(e,n,o){if(n.lte(0))return"";const{coingeckoId:a,decimals:l,symbol:c}=r.NATIVE_TOKEN_MAP[e];if(!a||!l||!c)return"";const d=n.div(new(t(s))(10).pow(l)),p=o[a];if(!(null==p?void 0:p.usd))return`${(0,u.formatTokenAmountGreaterThan1)(d.toString())} ${c}`;const m=d.times(p.usd).toNumber(),g=(0,i.formatDollarAmount)(m,{minimumAmount:1e-6,decimalFormatSmallNumbers:"0.[00000]"});return"$NaN"!==g?g:""}})),a.register("40K6R",(function(n,o){e(n.exports,"getBridgeStepsFees",(function(){return s}));var r=a("3yHS8");const s=e=>e.steps.reduce(((e,n)=>e.plus(new(t(r))(n.nonIncludedNonGasFees))),new(t(r))(0))})),a.register("l6sVU",(function(n,o){e(n.exports,"aggregateGasEstimation",(function(){return u}));var r=a("belzv"),s=a("4raQz"),i=a("3yHS8");const u=e=>{if(e&&0!==e.length)return(0,s.isEthereumGasEstimation)(e[0])?e.reduce(((e,t)=>Object.assign(Object.assign({},e),{gasLimit:e.gasLimit.plus(t.gasLimit)})),{networkID:r.Chains.ethereum.mainnetID,gasLimit:new(t(i))(0),maxFeePerGas:e[0].maxFeePerGas,maxPriorityFeePerGas:e[0].maxPriorityFeePerGas}):(0,s.isSolanaGasEstimation)(e[0])?e.reduce(((e,t)=>Object.assign(Object.assign({},e),{value:e.value+t.value})),{networkID:r.Chains.solana.mainnetID,value:0}):void 0}})),a.register("kGQ4c",(function(t,n){e(t.exports,"usePriceImpact",(function(){return i}));var o=a("lDSNw"),r=a("40TJN"),s=a("6zhDS");function i(e){return(0,o.useMemo)((()=>{let t="",n="";if(void 0===e)return;const o=100*e;return t=(0,r.getPriceImpactColor)(o),n=(0,s.getPriceImpactText)(o),{color:t,text:n,percentage:o}}),[e])}})),a.register("40TJN",(function(t,n){function o(e){if(void 0===e)return"#999";const t=parseFloat(e.toFixed(2));switch(!0){case t>=5:return"#EB3742";case t>=1&&e<5:return"#FFDC62";case e>=0&&e<1:return"#21E56F";default:return"#777777"}}e(t.exports,"getPriceImpactColor",(function(){return o}))})),a.register("6zhDS",(function(t,n){function o(e){if(void 0===e)return"-";switch(!0){case e>=1e3:return">1000%";case e>=.01&&e<1e3:return`${e.toFixed(2)}%`;case e>0&&e<.01:return"<0.01%";case 0===e:return"0%";default:return"-"}}e(t.exports,"getPriceImpactText",(function(){return o}))})),a.register("8VnfO",(function(t,n){e(t.exports,"useProvider",(function(){return s}));var o=a("lDSNw"),r=a("4Fsq6");function s(e){return(0,o.useMemo)((()=>(0,r.parseSwapSources)(e)),[e])}})),a.register("kPmOk",(function(t,n){e(t.exports,"useSlippage",(function(){return i}));var o=a("lDSNw"),r=a("99c8B"),s=a("6xZ7a");function i(e){return(0,o.useMemo)((()=>{let t="",n="";if(void 0===e)return;const o=100*e;return t=(0,r.getSlippageColor)(o),n=(0,s.getSlippageText)(o),{color:t,text:n,percentage:o}}),[e])}})),a.register("99c8B",(function(t,n){function o(e){if(void 0===e)return"#999";const t=parseFloat(e.toFixed(2));switch(!0){case t>2:return"#EB3742";case t>=1&&e<=2:return"#FFDC62";default:return"#777777"}}e(t.exports,"getSlippageColor",(function(){return o}))})),a.register("6xZ7a",(function(t,n){function o(e){if(void 0===e)return"-";switch(!0){case e>=1e3:return">1000%";case e>=.01&&e<1e3:return`${e.toFixed(2)}%`;case e>0&&e<.01:return"<0.01%";case 0===e:return"0%";default:return"-"}}e(t.exports,"getSlippageText",(function(){return o}))})),a.register("jhEDs",(function(t,n){e(t.exports,"useSwapConfirmationProps",(function(){return O}),(function(e){return O=e}));var o=a("9ktGj"),r=a("belzv"),s=a("lMzyG"),i=a("gd9Oy"),u=a("iPvw0"),l=a("4yY1D"),c=a("lDSNw"),d=a("gmVmN"),p=a("54Hrp"),m=a("iTFQj"),g=a("jP15q"),f=a("fJPlc"),S=a("jG6nq"),v=a("cKybL"),y=a("lyKBa"),b=a("XXDFr"),w=a("h8RYn"),h=a("eCE6v"),k=a("ghFtg"),T=a("iRhPk"),A=a("9icBb"),E=a("aAk1s"),I=a("c9ZwG"),F=a("8VnfO"),N=a("lmbzb"),x=a("5I5ht"),C=function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}u((o=o.apply(e,t||[])).next())}))};const P=new Error("Trying to execute swap with no current quote"),D=new Error("Trying to execute swap with no multichain quote response"),R=new Error("No gas estimation available"),H=new Error("No swap transactions available"),z=new Error("Scan results are not valid"),B=e=>e.resourceType===r.Caip19ResourceType.address?r.Chains.isEVMNetworkID(e.chainId)?e.address.toLowerCase():e.address:e.slip44,M=(e,t)=>t.find((t=>t.data.tokenAddress===B(e))),U=({sellFungible:e,buyFungible:t,sellAmount:n,buyAmount:o,provider:r,isBridge:a,t:s})=>{var i,u;const l=e.data.symbol,c=t.data.symbol,p=(0,d.amountToUiAmount)(null!=n?n:0,null!==(i=e.data.decimals)&&void 0!==i?i:0),m=(0,d.amountToUiAmount)(null!=o?o:0,null!==(u=t.data.decimals)&&void 0!==u?u:0);return{topLeft:{label:`${s(a?"transactionsPendingBridging":"transactionsPendingSwapping")} on ${r}`},topRight:{label:`${m} ${c}`,color:"#21E56F"},bottomLeft:{label:`${l} ${String.fromCharCode(8594)} ${c}`},bottomRight:{label:`${p} ${l}`}}};function O({accountSigner:e,storage:t,fungibleHooks:n,priceHooks:a,settingsHooks:O,transactionHooks:Q,accountHooks:L,analytics:j,asyncSwapAnalytics:G,isLedger:_,onError:q,priorityFeeService:V,isSwapSimulationDisabled:K}){var $,Y,J,Z,W,X,ee,te;const{t:ne}=(0,s.useTranslation)(),oe=(0,I.useInitialSellFungible)({accountHooks:L}),re=p.CHAIN_TO_USDC_FUNGIBLE.get(oe.data.chain.id),{currentQuote:ae,multichainQuoteResponse:se}=(0,N.useQuote)(),ie=null!==($=(0,S.useSwapperStore)((e=>e.buyFungible)))&&void 0!==$?$:re,ue=null!==(Y=(0,S.useSwapperStore)((e=>e.sellFungible)))&&void 0!==Y?Y:oe,le=(0,S.useSwapperStore)((e=>e.buyUsdValue)),ce=(0,S.useSwapperStore)((e=>e.sellUsdValue)),de=(0,S.useSwapperStore)((e=>e.setSellFungible)),pe=(0,S.useSwapperStore)((e=>e.resetSwapper)),me=(0,S.useSwapperStore)((e=>e.maxGasEstimation)),{connection:ge}=L.useSelectedSolanaConnection(),{buyAmount:fe,sellAmount:Se}=null!=ae?ae:{buyAmount:"0",sellAmount:"0"},ve=(0,d.amountToUiAmount)(fe,ie.data.decimals).toNumber(),ye=(0,d.amountToUiAmount)(Se,ue.data.decimals).toNumber(),be=(0,y.getSwapExecutionDuration)(ae),we=(0,v.formatSecondsAsSwapTime)(be,ne),[he]=(0,c.useState)(we),ke=(0,F.useProvider)((0,w.getSwapQuoteSources)(ae)),Te=(0,E.useFees)({transactionHooks:Q,priceHooks:a,accountHooks:L}),Ae=(0,A.useAnalyticsPayload)({buyToken:ie,sellToken:ue,buyAmount:null!==(J=null==ae?void 0:ae.buyAmount.toString())&&void 0!==J?J:"",sellAmount:null!==(Z=null==ae?void 0:ae.sellAmount.toString())&&void 0!==Z?Z:"",phantomFeeUiAmount:Te.phantomFee.uiAmount,priceImpact:(0,b.getSwapPriceImpact)(ae),provider:ke,buyAssetUsdValue:le,sellAssetUsdValue:ce}),Ee=null!==(W=null==ue?void 0:ue.data.chain.id)&&void 0!==W?W:r.NetworkIDs.Solana.Mainnet,{data:Ie}=L.useSelectedMultiChainAccount(),Fe=(0,c.useMemo)((()=>{var e;return null!==(e=null==Ie?void 0:Ie.addresses)&&void 0!==e?e:[]}),[Ie]),Ne=(0,c.useMemo)((()=>{var e,t;return null!==(t=null===(e=Fe.find((e=>e.networkID===(null==ue?void 0:ue.data.chain.id))))||void 0===e?void 0:e.address)&&void 0!==t?t:""}),[Fe,ue]),{data:xe,isSuccess:Ce}=(0,f.useSwapTransactions)({accountHooks:L,callerAddress:Ne,priorityFeeService:V,quote:ae,sellFungible:ue}),Pe=(0,x.useSwapScanTransaction)({accountHooks:L,swapTransactions:xe}),De=(0,c.useMemo)((()=>K?{isValid:!0,isLoading:!1}:Pe),[K,Pe]),Re=(null==xe?void 0:xe.transactions.length)||0,[He,ze]=(0,c.useState)(),Be=(0,c.useMemo)((()=>{var e;return null!==(e=null==He?void 0:He.id)&&void 0!==e?e:""}),[He]),{data:Me}=O.usePreferredExplorers(),Ue=(0,c.useMemo)((()=>{if(!Be)return;const e=null==Me?void 0:Me.explorers[Ee];return(0,u.generateExplorerUrl)({networkID:Ee,endpoint:"transaction",explorerType:e,param:Be})}),[Be,Ee,Me]),[Oe,Qe]=(0,c.useState)(!1),[Le,je]=(0,c.useState)("loading"),Ge="success"===Le,_e="failure"===Le,qe=!!He,[Ve,Ke]=(0,c.useState)(void 0),{notEnoughSol:$e,txErrorMessage:Ye}=(0,m.useSwapError)(Ve),{mutateAsync:Je}=(0,g.useMultichainSwapFungibles)({accountSigner:e,storage:t,accountIdentifier:null!==(X=null==Ie?void 0:Ie.identifier)&&void 0!==X?X:"",networkID:Ee}),Ze=(0,c.useCallback)((e=>C(this,void 0,void 0,(function*(){j.capture("swapperSwapSuccess",Ae);const t=(0,o.chainFromNetworkID)(e.networkID);l.telemetry.addBreadcrumb(l.FeatureTag.Swapper,"transactionStatus",l.Severity.Info,Object.assign(Object.assign({},t),{txReceipt:e.id})),t.chainType!==i.AddressType.EVM&&t.chainType!==i.AddressType.Solana||G.then((n=>n.transactionStatus(e.id,Object.assign(Object.assign({},t),{status:{type:"confirmed"}})))),pe(),(0,T.updateSellFungibleAmount)({sellAmount:null==ae?void 0:ae.sellAmount.toString(),sellFungible:ue,setSellFungible:de}),n.invalidateTokens(Fe)}))),[Fe,j,Ae,ae,n,pe,ue,de,G]),{isSuccess:We,isError:Xe}=Q.useWaitForTransactionConfirmation(Ze,He);(0,c.useEffect)((()=>{const e=(null==He?void 0:He.networkID)?(0,o.chainFromNetworkID)(He.networkID):null;We?je("success"):Xe&&(je("failure"),(null==e?void 0:e.chainType)!==i.AddressType.EVM&&(null==e?void 0:e.chainType)!==i.AddressType.Solana||!(null==He?void 0:He.id)||(l.telemetry.addBreadcrumb(l.FeatureTag.Swapper,"transactionStatus",l.Severity.Error,Object.assign(Object.assign({},e),{txReceipt:He.id})),G.then((t=>t.transactionStatus(He.id,Object.assign(Object.assign({},e),{status:{type:"error"}}))))))}),[We,Xe,G,He]);const et=null!==(te=null===(ee=null==xe?void 0:xe.transactionPairs)||void 0===ee?void 0:ee.flatMap((e=>[B(e.sellToken),B(e.buyToken)])))&&void 0!==te?te:[],tt=[...new Set(et)],{fungibles:nt}=n.useFungibles({keys:tt}),ot=(0,c.useMemo)((()=>{const e={pendingSwapActivityRows:[],pendingApprovalActivityRows:[]};return xe?"evm"===xe.type?xe.transactionTypes.reduce(((e,t,n)=>{var o,r;let a,s=ue,i=ie;const u=xe.transactionPairs;if(u&&u[n]){const e=u[n];s=null!==(o=M(e.sellToken,nt))&&void 0!==o?o:ue,i=null!==(r=M(e.buyToken,nt))&&void 0!==r?r:ie,a=e.approvalMetadata}if(t.includes("approval")){const t=s.data.symbol;e.pendingApprovalActivityRows.push({topLeft:a?{label:`${ne("transactionsPendingApproving")} ${a.symbol}`}:{label:`${ne("transactionsPendingApproving")} ${t}`}})}else e.pendingSwapActivityRows.push(U({sellFungible:s,buyFungible:i,sellAmount:null==ae?void 0:ae.sellAmount,buyAmount:null==ae?void 0:ae.buyAmount,provider:ke,isBridge:t.includes("bridge"),t:ne}));return e}),e):xe.transactionTypes.reduce(((e,t,n)=>{var o,r;let a=ue,s=ie;const i=xe.transactionPairs;if(i&&i[n]){const e=i[n];a=null!==(o=M(e.sellToken,nt))&&void 0!==o?o:ue,s=null!==(r=M(e.buyToken,nt))&&void 0!==r?r:ie}return e.pendingSwapActivityRows.push(U({sellFungible:a,buyFungible:s,sellAmount:null==ae?void 0:ae.sellAmount,buyAmount:null==ae?void 0:ae.buyAmount,provider:ke,isBridge:t.includes("bridge"),t:ne})),e}),e):e}),[xe,ue,ie,nt,ne,null==ae?void 0:ae.sellAmount,null==ae?void 0:ae.buyAmount,ke]),rt=(0,c.useCallback)((()=>C(this,void 0,void 0,(function*(){Qe(!0),je("loading"),ze(void 0),Ke(void 0);try{if(!ae)throw P;if(!se)throw D;if(!me||0===(null==me?void 0:me.length))throw R;if(!xe)throw H;if(!De.isValid)throw z;const e=yield Je({type:r.Chains._DO_NOT_USE_getAddressType(Ee),callerAddress:Ne,swapTransactions:xe,pendingSwapActivityRows:ot.pendingSwapActivityRows,pendingApprovalActivityRows:ot.pendingApprovalActivityRows,gasEstimation:me,connection:ge}),t=(0,o.chainFromNetworkID)(Ee);l.telemetry.addBreadcrumb(l.FeatureTag.Swapper,"submittedTransaction",l.Severity.Info,Object.assign(Object.assign({},t),{txReceipt:e.id,method:t.chainType===i.AddressType.Solana?"signAndSendTransaction":t.chainType===i.AddressType.EVM?"eth_sendRawTransaction":"UNKNOWN"})),t.chainType===i.AddressType.Solana?G.then((n=>n.submittedTransaction(e.id,Object.assign(Object.assign({},t),{method:"signAndSendTransaction"})))):t.chainType===i.AddressType.EVM&&G.then((n=>n.submittedTransaction(e.id,Object.assign(Object.assign({},t),{method:"eth_sendRawTransaction"})))),ze(e)}catch(e){const t=(0,k.parseSwapError)(e);je("failure"),Ke(t),q&&e.message!==z.message&&q(t),j.capture("swapperSwapFailure",{data:Object.assign(Object.assign({},Ae.data),{error:t.message})})}}))),[ae,se,me,xe,De.isValid,Je,Ee,Ne,ot.pendingSwapActivityRows,ot.pendingApprovalActivityRows,ge,G,q,j,Ae]),at=(0,c.useMemo)((()=>Oe||!De.isLoading&&Ce),[Oe,De,Ce]);return{sellAsset:{amount:ye,symbol:ue.data.symbol,networkID:ue.data.chain.id},buyAsset:{amount:ve,symbol:ie.data.symbol,networkID:ie.data.chain.id},estimatedTime:he,isBridge:(0,h.isBridgeSwap)(ue.data.chain.id,ie.data.chain.id),isSuccess:Ge,isFailure:_e,isLedger:_,isClosable:qe,notEnoughSol:$e,txError:Ve,txErrorMessage:Ye,txLink:null!=Ue?Ue:"",executeSwap:rt,resetSwapper:pe,numberOfTransactions:Re,isReadyToExecute:at,addressType:r.Chains._DO_NOT_USE_getAddressType(Ee)}}})),a.register("iTFQj",(function(t,n){e(t.exports,"useSwapError",(function(){return p}));var o=a("lMzyG"),r=a("4raQz"),s=a("lDSNw");const i='"Custom":301',u=r.ERROR_SOLANA_NO_FUNDS_FEE,l="lower balance than rent-exempt minimum",c="insufficient lamports",d=r.ERROR_SOLANA_NO_SOL_TOKENS;function p(e){const{t:t}=(0,o.useTranslation)();return(0,s.useMemo)((()=>e&&e.message?{notEnoughSol:[u,c,d,l].some((t=>e.message.includes(t))),txErrorMessage:e.message.includes(i)?t("swapTxConfirmationSwapFailedSlippageLimit"):t("swapTxConfirmationSwapFailedTryAgain")}:{notEnoughSol:!1,txErrorMessage:""}),[e,t])}})),a.register("ghFtg",(function(t,n){function o(e){var t;return"string"==typeof e?new Error(e):"object"==typeof e&&"logs"in e&&(null===(t=e.logs)||void 0===t?void 0:t.length)?new Error(e.logs.join("\n")):e}e(t.exports,"parseSwapError",(function(){return o}))})),a.register("iRhPk",(function(t,n){function o({sellAmount:e,sellFungible:t,setSellFungible:n}){if(t&&e){const o=Object.assign({},t);o.data.amount=String(Number(t.data.amount)-Number(e)),n(o)}}e(t.exports,"updateSellFungibleAmount",(function(){return o}))})),a.register("9icBb",(function(t,n){e(t.exports,"useAnalyticsPayload",(function(){return s}));var o=a("lDSNw"),r=a("dPav6");function s({buyAssetUsdValue:e,buyToken:t,sellAssetUsdValue:n,sellToken:a,buyAmount:s,sellAmount:i,phantomFeeUiAmount:u,priceImpact:l,provider:c}){return(0,o.useMemo)((()=>{const o=(0,r.legacyAnalyticsPayload)({buyAssetUsdValue:e,buyToken:t,sellAssetUsdValue:n,sellToken:a,buyAmount:s,sellAmount:i,phantomFeeUiAmount:u,priceImpact:l,provider:c});return o?{data:o}:{}}),[e,n,s,t,u,l,c,i,a])}})),a.register("5I5ht",(function(t,n){e(t.exports,"useSwapScanTransaction",(function(){return d}));var o=a("belzv"),r=a("4raQz"),s=a("lDSNw"),i=a("jG6nq"),u=a("31WeU"),l=a("c9ZwG"),c=a("lmbzb");const d=({accountHooks:e,swapTransactions:t})=>{var n,a,d;const p=(0,l.useInitialSellFungible)({accountHooks:e}),m=null!==(n=(0,i.useSwapperStore)((e=>e.sellFungible)))&&void 0!==n?n:p,g=null!==(a=null==m?void 0:m.data.chain.id)&&void 0!==a?a:o.NetworkIDs.Solana.Mainnet,{data:f}=e.useSelectedChainAddress({address:m.data.walletAddress,networkID:m.data.chain.id}),S=null!==(d=null==f?void 0:f.address)&&void 0!==d?d:"",{currentQuote:v,multichainQuoteResponse:y}=(0,c.useQuote)();let b=null;"evm"===(null==t?void 0:t.type)&&o.Chains.isEVMNetworkID(g)&&(b={networkID:g,origin:"https://phantom.app",userAccount:S,transactions:t.transactions}),"solana"===(null==t?void 0:t.type)&&o.Chains.isSolanaNetworkID(g)&&(b={networkID:g,origin:"https://phantom.app",userAccount:S,transactions:t.transactions});const w=r.simulations.useScanTransaction({label:"useSwapScanTransaction",params:b});return(0,s.useMemo)((()=>{var e,t;return{isValid:(0,u.validateScanResult)({simulationResults:null===(t=null===(e=w.data)||void 0===e?void 0:e.evaluation)||void 0===t?void 0:t.simulationResults,scanResultError:w.isError,quote:v,sellToken:null==y?void 0:y.sellToken,buyToken:null==y?void 0:y.buyToken,simulationTolerance:null==y?void 0:y.simulationTolerance}),isLoading:w.isLoading}}),[w,v,y])}})),a.register("31WeU",(function(n,o){e(n.exports,"validateScanResult",(function(){return m}));var r=a("belzv"),s=a("4yY1D"),i=a("4raQz"),u=a("3yHS8"),l=a("40K6R"),c=a("bz65k");const d="swap-validation",p=e=>t=>t.rawInfo.data.contract.address===(e=>{var t;if(e.resourceType===r.Caip19ResourceType.nativeToken){if(["60","966"].includes(e.slip44))return"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee"}else if(e.resourceType===r.Caip19ResourceType.address)return null!==(t=e.address)&&void 0!==t?t:"";return""})(e),m=({simulationResults:e,scanResultError:n,quote:o,sellToken:a,buyToken:m,simulationTolerance:g=.01})=>{var f,S;if(n)return!0;if(!(o&&e&&a&&m&&g))return s.telemetry.addBreadcrumb(d,`Missing necessary args: ${JSON.stringify({quote:!!o,simulationResults:!!e,sellToken:a,buyToken:m,simulationTolerance:g})}`,s.Severity.Info),!1;if(["SIMULATION_FAILED"].includes(null!==(S=null===(f=e.error)||void 0===f?void 0:f.kind)&&void 0!==S?S:""))return!0;if(e.error)return s.telemetry.addBreadcrumb(d,`Simulation has error: ${JSON.stringify({sellToken:a,buyToken:m,error:e.error})}`,s.Severity.Info),!1;let v,y;if("isRecentBlockhashExpired"in e)return!0;{const n=e.expectedStateChanges.filter((e=>[i.simulations.StateChangeKind.Erc20Transfer,i.simulations.StateChangeKind.NativeAssetTransfer].includes(e.rawInfo.kind)));v=n.filter(p(m)).reduce(((e,n)=>{const{before:o,after:r}=n.rawInfo.data.amount,a=new(t(u))(o),s=new(t(u))(r);return e.plus(s.minus(a))}),new(t(u))(0)),y=n.filter(p(a)).reduce(((e,n)=>{const{before:o,after:r}=n.rawInfo.data.amount,a=new(t(u))(o),s=new(t(u))(r);return e.plus(a.minus(s))}),new(t(u))(0))}const b=a.resourceType===r.Caip19ResourceType.nativeToken,w=new(t(u))(o.buyAmount),h=new(t(u))(o.sellAmount),k=v.minus(w).dividedBy(w).absoluteValue();let T=y.minus(h);if(b&&(0,c.isBridgeQuote)(o)){const e=(0,l.getBridgeStepsFees)(o);T=T.minus(e)}T=T.dividedBy(h).absoluteValue();const A=((0,c.isBridgeQuote)(o)||k.lt(g))&&T.lt(g);return A||s.telemetry.addBreadcrumb(d,`Diff is larger than simulationTolerance: ${JSON.stringify({sellToken:a,buyToken:m,buyDiff:k.toString(),sellDiff:T.toString(),simulationTolerance:g})}`,s.Severity.Info),A}})),a.register("4UoVr",(function(n,o){e(n.exports,"useSwapProvidersProps",(function(){return S}));var r=a("belzv"),s=a("gYh0e"),i=a("lMzyG"),u=a("3yHS8"),l=a("lDSNw"),c=a("jG6nq"),d=a("6c63N"),p=a("l6sVU"),m=a("lmbzb"),g=a("34pzM");const f=(e,t)=>{let n="";return e.resourceType===r.Caip19ResourceType.nativeToken?n=(0,s.networkIdToNativeTokenFungibleKey)(e.chainId):e.address&&(n=e.address),t.find((e=>e.data.key.toLowerCase()===n.toLowerCase()))};function S({enableBridgePairs:e,enableNextJupiterClient:n,enableNativeBridgePairs:o,accountHooks:r,fungibleHooks:a,transactionHooks:S,priceHooks:v,getApiEnvironment:y,analytics:b}){const{t:w}=(0,i.useTranslation)(),{bestBuyAmount:h,multichainQuoteResponse:k,isFetchingQuote:T,quotes:A,selectedProviderIndex:E}=(0,m.useQuote)(),I=(0,c.useSwapperStore)((e=>e.setSelectedProviderIndex)),F=(0,c.useSwapperStore)((e=>e.maxGasEstimation)),N=(0,c.useSwapperStore)((e=>e.sellFungible)),{assets:x,isFetching:C}=(0,g.useSwapBuyAssetList)({enableBridgePairs:e,enableNextJupiterClient:n,enableNativeBridgePairs:o,fungibleHooks:a,accountHooks:r,getApiEnvironment:y}),P=null==N?void 0:N.data.chain.id,{data:D}=S.useGasEstimationPrice(P,(0,p.aggregateGasEstimation)(F)),{data:R}=v.usePrices({queries:[{type:"id",data:[s.SOLANA_TOKEN_VALUES.coingeckoId,s.ETHER_TOKEN_VALUES.coingeckoId,s.MATIC_TOKEN_VALUES.coingeckoId]}]}),H="xchain"===(null==k?void 0:k.type),z=(0,l.useMemo)((()=>{var e;if(!k||0===x.length)return[];const{buyToken:n}=k,o=f(n,x);return o?H?(0,d.parseBridgeProviders)({quotes:A,buyTokenDecimals:o.data.decimals,buyTokenSymbol:o.data.symbol,networkIDForFees:P,networkFee:null!==(e=null==D?void 0:D.gasEstimationAmount)&&void 0!==e?e:new(t(u))(0),priceMap:R,t:w}):(0,d.parseSwapProviders)({quotes:A,bestBuyAmount:h,buyTokenDecimals:o.data.decimals,buyTokenSymbol:o.data.symbol,bestPriceLabel:w("swapFeesBestPrice")}):[]}),[k,x,A,h,w,P,D,R,H]),B=(0,l.useCallback)((e=>{const t=z[e];b.capture("swapperProviderSelected",{data:{provider:t.name}}),I(e)}),[I,z,b]);return{rows:z,selectedProviderIndex:E,isLoadingProviders:T||C||!1,setSelectedProviderIndex:B}}})),a.register("6c63N",(function(n,o){e(n.exports,"parseSwapProviders",(function(){return v})),e(n.exports,"parseBridgeProviders",(function(){return y}));var r=a("4y59b"),s=a("3yHS8"),i=a("fR691"),u=a("cKybL"),l=a("40K6R"),c=a("5O9My"),d=a("kvBHY"),p=a("4Fsq6"),m=a("bz65k");const g="FASTEST",f=["RECOMMENDED",g],S=e=>{if((0,m.isBridgeQuote)(e))return(0,p.parseSwapSources)((0,c.getBridgeTools)(e));const{sources:t}=e;return(0,p.parseSwapSources)(t)},v=({quotes:e,bestBuyAmount:n,buyTokenDecimals:o,buyTokenSymbol:r,bestPriceLabel:a})=>e.map((e=>{const{buyAmount:i}=e,u=new(t(s))(i),l=new(t(s))(u).minus(n),c=(0,d.amountToFormattedAmountGreaterThan1)(l,o);return{name:S(e),fee:l.isNaN()?"-":l.isZero()?a:`${c} ${r}`}})),y=({quotes:e,buyTokenDecimals:t,buyTokenSymbol:n,networkIDForFees:o,networkFee:a,priceMap:s,t:c})=>e.filter(m.isBridgeQuote).map((e=>{var p;const{buyAmount:m,executionDuration:v,steps:y,tags:b}=e,w=(0,l.getBridgeStepsFees)(e).plus(a),h=b.filter((e=>f.includes(e))).map((e=>({key:e,text:c(`swapProvidersTag${(0,r.capitalizeFirstLetter)(e)}`)}))),k=b.includes(g),T=y.find((e=>!!e.tool.logoURI));return{name:S(e),fee:o&&s?c("swapProvidersFee",{fee:(0,i.formatFee)(o,w,s)}):"",amount:`${(0,d.amountToFormattedAmountGreaterThan1)(m,t)} ${n}`,time:{text:(0,u.formatSecondsAsSwapTime)(v,c),isFast:k||v<=300},tags:h,logoURI:null!==(p=null==T?void 0:T.tool.logoURI)&&void 0!==p?p:""}}))})),a.register("jlxJl",(function(n,o){e(n.exports,"useSwapReviewButtonProps",(function(){return g}));var r=a("gYh0e"),s=a("3yHS8"),i=a("lDSNw"),u=a("gmVmN"),l=a("jG6nq"),c=a("oo4df"),d=a("eCE6v"),p=a("aAk1s"),m=a("lmbzb");function g({accountHooks:e,fungibleHooks:n,transactionHooks:o,priceHooks:a}){var g;const{currentQuote:f,isFetchingQuote:S}=(0,m.useQuote)(),v=(0,l.useSwapperStore)((e=>e.hasNoRoutes)),y=(0,l.useSwapperStore)((e=>e.sellFungible)),b=(0,l.useSwapperStore)((e=>e.sellAmount)),w=null==y?void 0:y.data.chain.id,h=(0,l.useSwapperStore)((e=>e.gasEstimation)),k=(0,l.useSwapperStore)((e=>e.maxGasEstimation)),T=(0,l.useSwapperStore)((e=>e.buyFungible)),A=null==T?void 0:T.data.chain.id,{fungible:E}=n.useFungible({key:w?(0,r.networkIdToNativeTokenFungibleKey)(w):void 0}),{fungible:I}=n.useFungible({key:A?(0,r.networkIdToNativeTokenFungibleKey)(A):void 0}),F=new(t(s))(null!==(g=null==I?void 0:I.data.amount)&&void 0!==g?g:0),N=(0,d.isBridgeSwap)(w,A),x=N&&F.isZero(),{totalFees:C}=(0,p.useFees)({transactionHooks:o,priceHooks:a,accountHooks:e}),P=y?(0,c.getMaxSellAmount)(y,C.amount,N):"0",D=!!(null==y?void 0:y.type)&&(0,r.isNative)(null==y?void 0:y.type),R=null==y?void 0:y.data.decimals,H=null==y?void 0:y.data.chain.id,z=(0,i.useMemo)((()=>{var e,n;return D?new(t(s))((0,u.uiAmountToAmount)(b,null!=R?R:0)).plus(null!==(e=C.maxAmount)&&void 0!==e?e:C.amount):null!==(n=C.maxAmount)&&void 0!==n?n:C.amount}),[D,b,R,C.amount,C.maxAmount]),B=E?(0,u.amountToFormattedAmount)(E.data.amount,E.data.decimals):"-",M=E?(0,u.amountToFormattedAmount)(z,E.data.decimals):"-",U=(0,i.useMemo)((()=>{var e;return new(t(s))(null!==(e=null==E?void 0:E.data.amount)&&void 0!==e?e:0).lt(z)}),[null==E?void 0:E.data.amount,z]),O=new(t(s))(b).isLessThanOrEqualTo(new(t(s))(P));return{canSwap:!!y&&!!f&&O&&!v&&!!((null!=h?h:[]).length>0&&(null!=k?k:[]).length>0)&&!S,hasEnoughAssets:O,hasNoRoutes:v,hasNoFundsForFees:U,hasLowDestinationNetworkBalance:x,sourceNativeToken:{networkId:H,balance:B,required:M}}}})),a.register("ezrMm",(function(n,o){e(n.exports,"useSwapReviewProps",(function(){return v}));var r=a("belzv"),s=a("gYh0e"),i=a("3yHS8"),u=a("lDSNw"),l=a("gmVmN"),c=a("jG6nq"),d=a("a9Zq7"),p=a("7u9Mq"),m=a("kvBHY"),g=a("c9ZwG"),f=a("lmbzb");const S={network:{id:r.Chains.solana.mainnetID,name:r.Chains.solana.name,symbol:r.Chains.solana.tokenSymbol,imageUrl:r.Chains.solana.iconUrl},tokenType:s.FungibleTokenType.SolanaNative,symbol:"",logoUri:"",tokenAddress:"",amount:"",amountUsd:""};function v({priceHooks:e,accountHooks:n,getApiEnvironment:o}){var r;const a=(0,c.useSwapperStore)((e=>e.buyFungible)),v=(0,g.useInitialSellFungible)({accountHooks:n}),y=null!==(r=(0,c.useSwapperStore)((e=>e.sellFungible)))&&void 0!==r?r:v,b=(0,c.useSwapperStore)((e=>e.sellAmount)),w=(0,c.useSwapperStore)((e=>e.setBuyUsdValue)),h=(0,c.useSwapperStore)((e=>e.setSellUsdValue)),k=(0,u.useMemo)((()=>{const e=[];return a&&y&&(e.push(a),e.push(y)),Object.assign({getApiEnvironment:o},(0,s.tokensToTokenPriceQueries)(e))}),[a,o,y]),{data:T}=e.usePrices(k),{currentQuote:A,multichainQuoteResponse:E}=(0,f.useQuote)();return(0,u.useMemo)((()=>{var e,n;if(!(E&&A&&a&&y))return{buyToken:S,sellToken:S};const o=null==a?void 0:a.data,r=null==y?void 0:y.data;if(!o||!r)return{buyToken:S,sellToken:S};let s="",u="",c="",g="";const{buyAmount:f}=A,v=(0,l.amountToUiAmount)(f,o.decimals),k=t(i)(b),I=String(v).split(".")[0].length,F=b.split(".")[0].length,N=null===(e=o.symbol)||void 0===e?void 0:e.length,x=null===(n=r.symbol)||void 0===n?void 0:n.length,C=I&&N?I+N:0,P=F&&x?F+x:0;c=`${(0,p.formatTokenAmountForReviewScreen)(k,P)} ${r.symbol}`,s=`${(0,p.formatTokenAmountForReviewScreen)(v,C)} ${o.symbol}`;const D=(0,d.extractUsdRate)(a,T),R=(0,d.extractUsdRate)(y,T);if(null==D?void 0:D.usd){const e=v.multipliedBy(D.usd);u=`$${(0,m.formatTokenAmountGreaterThan1)(e)}`,w(D.usd)}if(null==R?void 0:R.usd){const e=k.multipliedBy(R.usd);g=`$${(0,m.formatTokenAmountGreaterThan1)(e)}`,h(R.usd)}return{buyToken:{network:o.chain,tokenType:a.type,symbol:o.symbol,logoUri:o.logoUri,tokenAddress:o.tokenAddress,amount:s,amountUsd:u},sellToken:{network:r.chain,tokenType:y.type,symbol:r.symbol,logoUri:r.logoUri,tokenAddress:r.tokenAddress,amount:c,amountUsd:g}}}),[E,a,y,A,b,w,h,T])}})),a.register("capuI",(function(t,n){e(t.exports,"useSwapSellAssetProps",(function(){return h}));var o=a("lDSNw"),r=a("NQvFB"),s=a("5Z2YQ"),i=a("eoULV"),u=a("gmVmN"),l=a("54Hrp"),c=a("LF6im"),d=a("jG6nq"),p=a("7u9Mq"),m=a("oo4df"),g=a("eCE6v"),f=a("aAk1s"),S=a("83P7Y"),v=a("c9ZwG"),y=a("a2OUs"),b=a("5WyUW");const w=500;function h({transactionHooks:e,priceHooks:t,accountHooks:n,fungibleHooks:a,getApiEnvironment:h,queryClient:k,isBalanceHidden:T,enableBridgePairs:A,enableNextJupiterClient:E,enableNativeBridgePairs:I}){var F;const N=(0,v.useInitialSellFungible)({accountHooks:n}),x=null!==(F=(0,d.useSwapperStore)((e=>e.sellFungible)))&&void 0!==F?F:N,C=(0,d.useSwapperStore)((e=>e.buyFungible)),P=(0,d.useSwapperStore)((e=>e.sellAmount)),D=(0,d.useSwapperStore)((e=>e.uiSellAmount)),R=(0,d.useSwapperStore)((e=>e.setSellAmount)),H=(0,d.useSwapperStore)((e=>e.setSellFungible)),z=(0,d.useSwapperStore)((e=>e.setUiSellAmount)),B=(0,b.useSwapAssetCaip19)(x),M=null==x?void 0:x.data.key,{fungible:U}=a.useFungible({key:M}),O=(0,y.useSupportedNetworkIDs)({accountHooks:n}),Q=null==x?void 0:x.data.chain.id,L=null==C?void 0:C.data.chain.id,[j,G]=s.useDebouncedChangeHandler(P,R,w),{totalFees:_}=(0,f.useFees)({transactionHooks:e,priceHooks:t,accountHooks:n}),q=(0,g.isBridgeSwap)(Q,L),V=null==x?void 0:x.data.amount,K=x?x.data.decimals:0,$=(0,o.useMemo)((()=>(0,m.getMaxSellAmount)(x,_.amount,q)),[x,_,q]),Y=new(0,i.BigNumber)(null!=P?P:0).isGreaterThan(new(0,i.BigNumber)($)),J=x&&x.data.symbol?x.data.symbol:"",Z=P.split(".")[0].length,W=J.length,X=Z&&W?Z+W:0,ee=T?`${l.BALANCE_HIDDEN_TEXT}`:`${(0,p.formatTokenAmountForReviewScreen)((0,u.amountToUiAmount)(V,K),X)}`,te=(0,o.useCallback)((e=>{const t=(0,u.formatTokenAmountInputs)(e.substring(0,r.MOBILE_SWAP_INPUT_MAX_LENGTH)),n=(0,u.formatTokenAmountToMaxDecimals)(t,K);z(n),G(n)}),[K,G,z]),ne=(0,o.useCallback)((()=>{te($)}),[$,te]);(0,o.useEffect)((()=>{U&&U.data.amount!==V&&H(U)}),[U,V,H]),(0,o.useEffect)((()=>{P&&(0,c.prefetchSwapPairs)({sellToken:B,supportedNetworkIDs:O,enableBridgePairs:A,enableNextJupiterClient:E,enableNativeBridgePairs:I,getApiEnvironment:h,queryClient:k})}),[B,O,A,E,I,h,k,P]);const oe=(0,S.useHasSwapMinimumSellAmount)(t);return{assetButtonTitle:J,decimals:K,formattedMaxSellAmount:ee,sellFungible:x,notEnoughAssets:Y,uiSellAmount:D,hasMinimumSellAmount:oe,setMaxSellAmount:ne,updateSellAmount:te}}Object.keys(s)})),a.register("5Z2YQ",(function(t,n){e(t.exports,"useDebouncedState",(function(){return a("1Z6YN").useDebouncedState})),e(t.exports,"useDebouncedChangeHandler",(function(){return a("1Z6YN").useDebouncedChangeHandler})),e(t.exports,"FUSE_ASSET_SEARCH_CONFIG",(function(){return a("jk25z").FUSE_ASSET_SEARCH_CONFIG})),e(t.exports,"ClusterHooks",(function(){return a("gTdtB").ClusterHooks})),e(t.exports,"GetClusterError",(function(){return a("gTdtB").GetClusterError})),e(t.exports,"QUERY_KEY_SOLANA_RPC_CONNECTION",(function(){return a("gTdtB").QUERY_KEY_SOLANA_RPC_CONNECTION})),e(t.exports,"SetClusterError",(function(){return a("gTdtB").SetClusterError})),e(t.exports,"StorageKeyCluster",(function(){return a("gTdtB").StorageKeyCluster})),e(t.exports,"StorageValueCluster",(function(){return a("gTdtB").StorageValueCluster})),e(t.exports,"createClusterHooks",(function(){return a("gTdtB").createClusterHooks})),e(t.exports,"getCluster",(function(){return a("gTdtB").getCluster})),e(t.exports,"useNetworkHealth",(function(){return a("jV3Re").useNetworkHealth})),e(t.exports,"NetworkHealthResponse",(function(){return a("jV3Re").NetworkHealthResponse})),e(t.exports,"useRemoveAccountWarning",(function(){return a("aGfF2").useRemoveAccountWarning})),e(t.exports,"useDebouncedCallback",(function(){return a("7Kjkw").useDebouncedCallback}));a("1Z6YN"),a("jk25z"),a("gTdtB"),a("jV3Re"),a("aGfF2"),a("7Kjkw")})),a.register("1Z6YN",(function(t,n){e(t.exports,"useDebouncedChangeHandler",(function(){return r})),e(t.exports,"useDebouncedState",(function(){return s}));var o=a("lDSNw");function r(e,t,n=100){const[r,a]=(0,o.useState)((()=>e)),s=(0,o.useRef)(),i=(0,o.useCallback)((e=>{a(e),s.current&&clearTimeout(s.current),s.current=setTimeout((()=>{t(e),s.current=void 0}),n)}),[n,t]);return(0,o.useEffect)((()=>{s.current&&(clearTimeout(s.current),s.current=void 0),a(e)}),[e]),[r,i]}function s(e,t=100){const[n,r]=(0,o.useState)(e),a=(0,o.useRef)();return(0,o.useEffect)((()=>(a.current&&clearTimeout(a.current),a.current=setTimeout((()=>{r(e)}),t),()=>{a.current&&clearTimeout(a.current)})),[r,e,t]),n}})),a.register("jk25z",(function(t,n){e(t.exports,"FUSE_ASSET_SEARCH_CONFIG",(function(){return o}));const o={location:0,distance:50,threshold:.2,shouldSort:!0,keys:[{name:"data.name",weight:.4},{name:"data.symbol",weight:.3},{name:"data.amount",weight:.2},{name:"data.mint",weight:.1}]}})),a.register("jV3Re",(function(t,n){e(t.exports,"useNetworkHealth",(function(){return c}),(function(e){return c=e}));var o,r,s=a("lNRH9"),i=a("6Nxml"),u=function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function s(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}u((o=o.apply(e,t||[])).next())}))};(r=o||(o={})).ok="ok",r.degraded="degraded",r.majorOutage="majorOutage";const l=e=>`${(0,i.getAPIEnvironment)()}/solana/health/v1?locale=${e}`;function c(e,t=!0){return(0,s.useQuery)({queryKey:["solana","health",{locale:e}],refetchInterval:15e4,enabled:t,queryFn(){return u(this,void 0,void 0,(function*(){const t=yield function(e){return u(this,void 0,void 0,(function*(){const t=yield fetch(l(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(200!==t.status)throw new Error("Failed to retrieve Solana network health");return yield t.json()}))}(e);return t}))}})}})),a.register("aGfF2",(function(t,n){e(t.exports,"useRemoveAccountWarning",(function(){return s}));var o=a("6Tvfa"),r=a("lMzyG");const s=e=>{const{t:t}=(0,r.useTranslation)();switch(e){case o.AccountType.PrivateKey:return t("removeAccountWarningPrivateKey");case o.AccountType.Seed:return t("removeAccountWarningSeed");case o.AccountType.Ledger:return t("removeAccountWarningLedger");case o.AccountType.SeedVault:return t("removeAccountWarningSeedVault");case o.AccountType.ReadOnly:return"[Internal Only] Nothing to worry about here, this account is read only - IO-1551"}}})),a.register("7Kjkw",(function(t,n){e(t.exports,"useDebouncedCallback",(function(){return r}));var o=a("lDSNw");const r=(e,t=1e3)=>{const n=(0,o.useRef)(!1);return(0,o.useCallback)((()=>{n.current||(n.current=!0,e(),setTimeout((()=>{n.current=!1}),t))}),[e,t])}})),a.register("1RdIz",(function(t,n){e(t.exports,"useFeeBreakdown",(function(){return i}));var o=a("lMzyG"),r=a("lDSNw"),s=a("gmVmN");function i(e){const{t:t}=(0,o.useTranslation)();return(0,r.useMemo)((()=>{const{networkFee:n,phantomFee:o,tokenAccountFee:r,nonIncludedFees:a}=e;return{networkFee:{label:t("swapQuoteNetwork"),value:n.uiAmount,maxValue:n.maxUiAmount},bridgeFee:{label:t("swapQuoteBridgeFee"),value:a.uiAmount,maxValue:a.maxUiAmount},tokenAccountFee:{label:t("swapQuoteOneTimeTokenAccount"),value:r.uiAmount},phantomFeePercent:{label:o.pct?t("swapQuoteFeeDisclaimer",{feePercentage:(0,s.formatPercentage)(o.pct)}):"",value:o.pct?`${o.pct}`:""}}}),[e,t])}})),a.register("aLg9d",(function(t,n){e(t.exports,"swapperShouldDehydrateQueryPredicate",(function(){return r}));const o=[a("eVFQN").SWAPPER_QUERY_KEYS_PREFIX.pairs],r=e=>{const t=String(e.queryKey[1]);return o.includes(t)}})),a.register("jMU3p",(function(t,n){e(t.exports,"createSwapAnalytics",(function(){return r}));var o=a("9ktGj");const r=e=>new(0,o.SequenceAnalytics)(e,"swap")}));
//# sourceMappingURL=swapper.c615a942.js.map
define=__define;})(window.define);