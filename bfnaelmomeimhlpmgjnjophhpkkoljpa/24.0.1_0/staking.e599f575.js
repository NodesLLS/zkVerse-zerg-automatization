(function(define){var __define;"function"==typeof define&&define.amd&&(__define=define,define=null);
!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},i={},o=n.parcelRequire1d24;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in i){var t=i[e];delete i[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){i[e]=t},n.parcelRequire1d24=o),o.register("egHtJ",(function(t,n){e(t.exports,"PHANTOM_STAKE_NODE",(function(){return r})),e(t.exports,"createStakingHooks",(function(){return o("j4jBF").createStakingHooks})),e(t.exports,"StakeAccountType",(function(){return o("jjhma").StakeAccountType})),e(t.exports,"calculateTotalValidatorAPY",(function(){return o("8lo7S").calculateTotalValidatorAPY})),e(t.exports,"recommendedValidatorSorter",(function(){return o("kAm35").recommendedValidatorSorter})),e(t.exports,"createStakeAnalytics",(function(){return o("8B6ZJ").createStakeAnalytics}));o("f5UU6");o("hvyP7");o("j4jBF"),o("jjhma");o("9OqWg");o("8lo7S"),o("kAm35"),o("8B6ZJ");const r={identityPublicKey:"7GkMBmtrTZz8QbjSe1sXvAUtz7Pp42SQxfT5ymmJD4We",voteAccountPublicKey:"J2nUHEAgZFRyuJbFjdqPrAa9gyWDuc7hErtDQHPhsYRp"}})),o.register("f5UU6",(function(t,n){e(t.exports,"CONFIG_PROGRAM_ID",(function(){return r}));const r=new(0,o("hMVEP").PublicKey)("Config1111111111111111111111111111111111111")})),o.register("hvyP7",(function(t,n){e(t.exports,"createStakingHooks",(function(){return o("j4jBF").createStakingHooks}));o("j4jBF")})),o.register("j4jBF",(function(t,n){e(t.exports,"createStakingHooks",(function(){return w}));var r=o("7gANb"),i=o("5ZOeC"),a=o("lEqf0"),u=o("6fWI5"),s=o("6Bfdh"),c=o("48Z1Q"),l=o("39pK6"),f=o("gqfgW"),d=o("3cJgq"),h=o("d5USZ"),y=o("40bAw"),p=o("8BkVZ"),g=o("kETlb"),v=o("FEhzp"),m=o("cJRQS"),k=o("efxv4");function w(e,t,n,o){const w=new(0,r.PriorityFeeService);return{useKeybaseUserAvatar:e=>(0,s.useKeybaseUserAvatar)(e),useRecommendedValidators:()=>(0,c.useRecommendedValidators)(n),useSignatureStatus:(e,n,r)=>(0,l.useSignatureStatus)(t,e,n,r),useStakeAccounts:d.useStakeAccounts,useStakeAccountMinBalance:f.useStakeAccountMinBalance,useStakeActivationData:h.useStakeActivationData,useStakeApy:()=>(0,y.useStakeApy)(n),useStakeRewardsHistory:(e,t)=>(0,p.useStakeRewardsHistory)(n,e,t),useValidators:v.useValidators,useValidatorInfo:g.useValidatorInfo,useVoteAccounts:m.useVoteAccounts,useDelegateStake:n=>(0,u.useDelegateStake)(e,n,t,w,o),useCreateStakeAccountAndDelegateStake:n=>(0,i.useCreateStakeAccountAndDelegateStake)(e,n,t,w,o),useDeactivateStake:n=>(0,a.useDeactivateStake)(e,n,t,w,o),useWithdrawStake:n=>(0,k.useWithdrawStake)(e,n,t,w,o)}}})),o.register("5ZOeC",(function(t,n){e(t.exports,"useCreateStakeAccountAndDelegateStake",(function(){return m}),(function(e){return m=e}));var r=o("iOvk1"),i=o("43063"),a=o("7mQ3Y"),u=o("hMVEP"),s=o("csW2r"),c=o("7gANb"),l=o("9W7fs"),f=o("bQvNK"),d=o("Nt4tV"),h=o("3vaB1");o("9OqWg");var y=o("hIkt0"),p=o("6fWI5"),g=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))};function v({lamports:e,votePubkey:t,authorizedPubkey:n}){const[r,i]=function({ownerPublicKey:e,lamports:t,transaction:n=new(0,u.Transaction)}){const r=u.Keypair.generate();return n.add(u.StakeProgram.createAccount({fromPubkey:e,stakePubkey:r.publicKey,authorized:new(0,u.Authorized)(e,e),lamports:t})),[n,r]}({ownerPublicKey:n,lamports:e});return r.add((0,p.delegateStake)({stakePubkey:i.publicKey,authorizedPubkey:n,votePubkey:t})),[r,i]}const m=(e,t,n,o,p)=>{const{t:m}=(0,i.useTranslation)(),{mutateAsync:k}=e.useSignAndSendSolanaTransactionAsync(t);return(0,l.useMutation)({mutationFn:({accountIdentifier:e,senderAddress:n,lamports:i,votePubkey:s,authorizedPubkey:l,usdPerSol:f})=>g(void 0,void 0,void 0,(function*(){if(!n)throw h.MissingSenderAddressError;const{networkID:y,address:g}=n,[w,S]=v({accountIdentifier:e,senderAddress:n,lamports:i,votePubkey:s,authorizedPubkey:l}),A=yield o.addPriorityFee(w,{connection:t}),P={ownerAddress:null!=g?g:"",networkID:y,data:{signature:""},type:c.PendingTransactionType.CreateAccountAndDelegateStake,display:{summary:{topLeft:{label:m("transactionsPendingCreatingAndDelegatingStake")}}}};p.then((e=>e.approved({chainType:a.AddressType.Solana,chainName:r.Chain.Solana,networkId:r.Chains.getSolanaNetworkIDValue(y),type:"delegate"})));const b=yield k({accountIdentifier:e,feePayer:new(0,u.PublicKey)(g),transaction:A,pendingTransactionInput:P,opts:{additionalSignerAccounts:[S]}});p.then((e=>e.submittedTransaction(b,{chainType:a.AddressType.Solana,chainName:r.Chain.Solana,networkId:r.Chains.getSolanaNetworkIDValue(y),method:"signAndSendTransaction"})));const T=(0,d.lamportsToSolana)(i),x=f?T.times(f):void 0;return p.then((e=>e.createStakeAccountAndDelegateStake({sol:T.toNumber(),usd:null==x?void 0:x.toNumber(),voteAccountPubkey:s}))),{networkID:y,id:null!=b?b:""}})),onSuccess:e=>{(0,f.waitForTransactionConfirmationAsync)(t,e.id).then((()=>{p.then((t=>t.transactionStatus(e.id,{chainType:a.AddressType.Solana,chainName:r.Chain.Solana,networkId:r.Chains.getSolanaNetworkIDValue(e.networkID),status:{type:"confirmed"}}))),(0,y.invalidateAllStakeAccountData)(n)()})).catch((t=>{p.then((t=>t.transactionStatus(e.id,{chainType:a.AddressType.Solana,chainName:r.Chain.Solana,networkId:r.Chains.getSolanaNetworkIDValue(e.networkID),status:{type:"error"}}))),s.telemetry.captureError(t,s.FeatureTag.Staking)}))}})}})),o.register("3vaB1",(function(t,n){e(t.exports,"MissingSenderAddressError",(function(){return r})),e(t.exports,"MissingConfirmationSignatureError",(function(){return i})),e(t.exports,"MissingPublicKeyError",(function(){return o}));const r=new Error("Missing sender address for staking fungibles."),i=(new Error("Missing signature from staking fungibles."),new Error("Missing signature from waiting for staking transaction confirmation.")),o=new Error("PublicKey is required")})),o.register("9OqWg",(function(t,n){e(t.exports,"calculateTotalValidatorAPY",(function(){return o("8lo7S").calculateTotalValidatorAPY})),e(t.exports,"invalidateAllStakeAccountData",(function(){return o("hIkt0").invalidateAllStakeAccountData})),e(t.exports,"recommendedValidatorSorter",(function(){return o("kAm35").recommendedValidatorSorter}));o("8lo7S"),o("hIkt0"),o("kAm35"),o("9TG0W")})),o.register("8lo7S",(function(n,r){e(n.exports,"calculateTotalValidatorAPY",(function(){return a}));var i=o("k1fjo");function a(e,n){const r=new(t(i))(e/100),o=new(t(i))(n/100);return r.minus(r.times(o)).times(100).decimalPlaces(2).toNumber()}})),o.register("k1fjo",(function(e,t){!function(t){"use strict";var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,o=Math.floor,a="[BigNumber Error] ",u=a+"Number primitive has more than 15 significant digits: ",s=1e14,c=14,l=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],d=1e7,h=1e9;function y(e){var t=0|e;return e>0||e===t?t:t-1}function p(e){for(var t,n,r=1,i=e.length,o=e[0]+"";r<i;){for(t=e[r++]+"",n=c-t.length;n--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function g(e,t){var n,r,i=e.c,o=t.c,a=e.s,u=t.s,s=e.e,c=t.e;if(!a||!u)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-u:a;if(a!=u)return a;if(n=a<0,r=s==c,!i||!o)return r?0:!i^n?1:-1;if(!r)return s>c^n?1:-1;for(u=(s=i.length)<(c=o.length)?s:c,a=0;a<u;a++)if(i[a]!=o[a])return i[a]>o[a]^n?1:-1;return s==c?0:s>c^n?1:-1}function v(e,t,n,r){if(e<t||e>n||e!==o(e))throw Error(a+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function m(e){var t=e.c.length-1;return y(e.e/c)==t&&e.c[t]%2!=0}function k(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function w(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}n=function e(t){var n,S,A,P,b,T,x,N,I,E,D=_.prototype={constructor:_,toString:null,valueOf:null},O=new _(1),C=20,M=4,F=-7,V=21,K=-1e7,R=1e7,q=!1,B=1,L=0,j={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},z="0123456789abcdefghijklmnopqrstuvwxyz",U=!0;function _(e,t){var n,i,a,s,f,d,h,y,p=this;if(!(p instanceof _))return new _(e,t);if(null==t){if(e&&!0===e._isBigNumber)return p.s=e.s,void(!e.c||e.e>R?p.c=p.e=null:e.e<K?p.c=[p.e=0]:(p.e=e.e,p.c=e.c.slice()));if((d="number"==typeof e)&&0*e==0){if(p.s=1/e<0?(e=-e,-1):1,e===~~e){for(s=0,f=e;f>=10;f/=10,s++);return void(s>R?p.c=p.e=null:(p.e=s,p.c=[e]))}y=String(e)}else{if(!r.test(y=String(e)))return A(p,y,d);p.s=45==y.charCodeAt(0)?(y=y.slice(1),-1):1}(s=y.indexOf("."))>-1&&(y=y.replace(".","")),(f=y.search(/e/i))>0?(s<0&&(s=f),s+=+y.slice(f+1),y=y.substring(0,f)):s<0&&(s=y.length)}else{if(v(t,2,z.length,"Base"),10==t&&U)return H(p=new _(e),C+p.e+1,M);if(y=String(e),d="number"==typeof e){if(0*e!=0)return A(p,y,d,t);if(p.s=1/e<0?(y=y.slice(1),-1):1,_.DEBUG&&y.replace(/^0\.0*|\./,"").length>15)throw Error(u+e)}else p.s=45===y.charCodeAt(0)?(y=y.slice(1),-1):1;for(n=z.slice(0,t),s=f=0,h=y.length;f<h;f++)if(n.indexOf(i=y.charAt(f))<0){if("."==i){if(f>s){s=h;continue}}else if(!a&&(y==y.toUpperCase()&&(y=y.toLowerCase())||y==y.toLowerCase()&&(y=y.toUpperCase()))){a=!0,f=-1,s=0;continue}return A(p,String(e),d,t)}d=!1,(s=(y=S(y,t,10,p.s)).indexOf("."))>-1?y=y.replace(".",""):s=y.length}for(f=0;48===y.charCodeAt(f);f++);for(h=y.length;48===y.charCodeAt(--h););if(y=y.slice(f,++h)){if(h-=f,d&&_.DEBUG&&h>15&&(e>l||e!==o(e)))throw Error(u+p.s*e);if((s=s-f-1)>R)p.c=p.e=null;else if(s<K)p.c=[p.e=0];else{if(p.e=s,p.c=[],f=(s+1)%c,s<0&&(f+=c),f<h){for(f&&p.c.push(+y.slice(0,f)),h-=c;f<h;)p.c.push(+y.slice(f,f+=c));f=c-(y=y.slice(f)).length}else f-=h;for(;f--;y+="0");p.c.push(+y)}}else p.c=[p.e=0]}function Q(e,t,n,r){var i,o,a,u,s;if(null==n?n=M:v(n,0,8),!e.c)return e.toString();if(i=e.c[0],a=e.e,null==t)s=p(e.c),s=1==r||2==r&&(a<=F||a>=V)?k(s,a):w(s,a,"0");else if(o=(e=H(new _(e),t,n)).e,u=(s=p(e.c)).length,1==r||2==r&&(t<=o||o<=F)){for(;u<t;s+="0",u++);s=k(s,o)}else if(t-=a,s=w(s,o,"0"),o+1>u){if(--t>0)for(s+=".";t--;s+="0");}else if((t+=o-u)>0)for(o+1==u&&(s+=".");t--;s+="0");return e.s<0&&i?"-"+s:s}function W(e,t){for(var n,r=1,i=new _(e[0]);r<e.length;r++){if(!(n=new _(e[r])).s){i=n;break}t.call(i,n)&&(i=n)}return i}function G(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+n*c-1)>R?e.c=e.e=null:n<K?e.c=[e.e=0]:(e.e=n,e.c=t),e}function H(e,t,n,r){var a,u,l,d,h,y,p,g=e.c,v=f;if(g){e:{for(a=1,d=g[0];d>=10;d/=10,a++);if((u=t-a)<0)u+=c,l=t,p=(h=g[y=0])/v[a-l-1]%10|0;else if((y=i((u+1)/c))>=g.length){if(!r)break e;for(;g.length<=y;g.push(0));h=p=0,a=1,l=(u%=c)-c+1}else{for(h=d=g[y],a=1;d>=10;d/=10,a++);p=(l=(u%=c)-c+a)<0?0:h/v[a-l-1]%10|0}if(r=r||t<0||null!=g[y+1]||(l<0?h:h%v[a-l-1]),r=n<4?(p||r)&&(0==n||n==(e.s<0?3:2)):p>5||5==p&&(4==n||r||6==n&&(u>0?l>0?h/v[a-l]:0:g[y-1])%10&1||n==(e.s<0?8:7)),t<1||!g[0])return g.length=0,r?(t-=e.e+1,g[0]=v[(c-t%c)%c],e.e=-t||0):g[0]=e.e=0,e;if(0==u?(g.length=y,d=1,y--):(g.length=y+1,d=v[c-u],g[y]=l>0?o(h/v[a-l]%v[l])*d:0),r)for(;;){if(0==y){for(u=1,l=g[0];l>=10;l/=10,u++);for(l=g[0]+=d,d=1;l>=10;l/=10,d++);u!=d&&(e.e++,g[0]==s&&(g[0]=1));break}if(g[y]+=d,g[y]!=s)break;g[y--]=0,d=1}for(u=g.length;0===g[--u];g.pop());}e.e>R?e.c=e.e=null:e.e<K&&(e.c=[e.e=0])}return e}function Y(e){var t,n=e.e;return null===n?e.toString():(t=p(e.c),t=n<=F||n>=V?k(t,n):w(t,n,"0"),e.s<0?"-"+t:t)}return _.clone=e,_.ROUND_UP=0,_.ROUND_DOWN=1,_.ROUND_CEIL=2,_.ROUND_FLOOR=3,_.ROUND_HALF_UP=4,_.ROUND_HALF_DOWN=5,_.ROUND_HALF_EVEN=6,_.ROUND_HALF_CEIL=7,_.ROUND_HALF_FLOOR=8,_.EUCLID=9,_.config=_.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(a+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(v(n=e[t],0,h,t),C=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(v(n=e[t],0,8,t),M=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(v(n[0],-h,0,t),v(n[1],0,h,t),F=n[0],V=n[1]):(v(n,-h,h,t),F=-(V=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)v(n[0],-h,-1,t),v(n[1],1,h,t),K=n[0],R=n[1];else{if(v(n,-h,h,t),!n)throw Error(a+t+" cannot be zero: "+n);K=-(R=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(a+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw q=!n,Error(a+"crypto unavailable");q=n}else q=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(v(n=e[t],0,9,t),B=n),e.hasOwnProperty(t="POW_PRECISION")&&(v(n=e[t],0,h,t),L=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(a+t+" not an object: "+n);j=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(a+t+" invalid: "+n);U="0123456789"==n.slice(0,10),z=n}}return{DECIMAL_PLACES:C,ROUNDING_MODE:M,EXPONENTIAL_AT:[F,V],RANGE:[K,R],CRYPTO:q,MODULO_MODE:B,POW_PRECISION:L,FORMAT:j,ALPHABET:z}},_.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!_.DEBUG)return!0;var t,n,r=e.c,i=e.e,u=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===u||-1===u)&&i>=-h&&i<=h&&i===o(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break e}if((t=(i+1)%c)<1&&(t+=c),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=s||n!==o(n))break e;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===u||1===u||-1===u))return!0;throw Error(a+"Invalid BigNumber: "+e)},_.maximum=_.max=function(){return W(arguments,D.lt)},_.minimum=_.min=function(){return W(arguments,D.gt)},_.random=(P=9007199254740992,b=Math.random()*P&2097151?function(){return o(Math.random()*P)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,u,s,l=0,d=[],y=new _(O);if(null==e?e=C:v(e,0,h),u=i(e/c),q)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(u*=2));l<u;)(s=131072*t[l]+(t[l+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[l]=n[0],t[l+1]=n[1]):(d.push(s%1e14),l+=2);l=u/2}else{if(!crypto.randomBytes)throw q=!1,Error(a+"crypto unavailable");for(t=crypto.randomBytes(u*=7);l<u;)(s=281474976710656*(31&t[l])+1099511627776*t[l+1]+4294967296*t[l+2]+16777216*t[l+3]+(t[l+4]<<16)+(t[l+5]<<8)+t[l+6])>=9e15?crypto.randomBytes(7).copy(t,l):(d.push(s%1e14),l+=7);l=u/7}if(!q)for(;l<u;)(s=b())<9e15&&(d[l++]=s%1e14);for(u=d[--l],e%=c,u&&e&&(s=f[c-e],d[l]=o(u/s)*s);0===d[l];d.pop(),l--);if(l<0)d=[r=0];else{for(r=-1;0===d[0];d.splice(0,1),r-=c);for(l=1,s=d[0];s>=10;s/=10,l++);l<c&&(r-=c-l)}return y.e=r,y.c=d,y}),_.sum=function(){for(var e=1,t=arguments,n=new _(t[0]);e<t.length;)n=n.plus(t[e++]);return n},S=function(){var e="0123456789";function t(e,t,n,r){for(var i,o,a=[0],u=0,s=e.length;u<s;){for(o=a.length;o--;a[o]*=t);for(a[0]+=r.indexOf(e.charAt(u++)),i=0;i<a.length;i++)a[i]>n-1&&(null==a[i+1]&&(a[i+1]=0),a[i+1]+=a[i]/n|0,a[i]%=n)}return a.reverse()}return function(r,i,o,a,u){var s,c,l,f,d,h,y,g,v=r.indexOf("."),m=C,k=M;for(v>=0&&(f=L,L=0,r=r.replace(".",""),h=(g=new _(i)).pow(r.length-v),L=f,g.c=t(w(p(h.c),h.e,"0"),10,o,e),g.e=g.c.length),l=f=(y=t(r,i,o,u?(s=z,e):(s=e,z))).length;0==y[--f];y.pop());if(!y[0])return s.charAt(0);if(v<0?--l:(h.c=y,h.e=l,h.s=a,y=(h=n(h,g,m,k,o)).c,d=h.r,l=h.e),v=y[c=l+m+1],f=o/2,d=d||c<0||null!=y[c+1],d=k<4?(null!=v||d)&&(0==k||k==(h.s<0?3:2)):v>f||v==f&&(4==k||d||6==k&&1&y[c-1]||k==(h.s<0?8:7)),c<1||!y[0])r=d?w(s.charAt(1),-m,s.charAt(0)):s.charAt(0);else{if(y.length=c,d)for(--o;++y[--c]>o;)y[c]=0,c||(++l,y=[1].concat(y));for(f=y.length;!y[--f];);for(v=0,r="";v<=f;r+=s.charAt(y[v++]));r=w(r,l,s.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,i,o,a,u=0,s=e.length,c=t%d,l=t/d|0;for(e=e.slice();s--;)u=((i=c*(o=e[s]%d)+(r=l*o+(a=e[s]/d|0)*c)%d*d+u)/n|0)+(r/d|0)+l*a,e[s]=i%n;return u&&(e=[u].concat(e)),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,i,a,u,l){var f,d,h,p,g,v,m,k,w,S,A,P,b,T,x,N,I,E=r.s==i.s?1:-1,D=r.c,O=i.c;if(!(D&&D[0]&&O&&O[0]))return new _(r.s&&i.s&&(D?!O||D[0]!=O[0]:O)?D&&0==D[0]||!O?0*E:E/0:NaN);for(w=(k=new _(E)).c=[],E=a+(d=r.e-i.e)+1,l||(l=s,d=y(r.e/c)-y(i.e/c),E=E/c|0),h=0;O[h]==(D[h]||0);h++);if(O[h]>(D[h]||0)&&d--,E<0)w.push(1),p=!0;else{for(T=D.length,N=O.length,h=0,E+=2,(g=o(l/(O[0]+1)))>1&&(O=e(O,g,l),D=e(D,g,l),N=O.length,T=D.length),b=N,A=(S=D.slice(0,N)).length;A<N;S[A++]=0);I=O.slice(),I=[0].concat(I),x=O[0],O[1]>=l/2&&x++;do{if(g=0,(f=t(O,S,N,A))<0){if(P=S[0],N!=A&&(P=P*l+(S[1]||0)),(g=o(P/x))>1)for(g>=l&&(g=l-1),m=(v=e(O,g,l)).length,A=S.length;1==t(v,S,m,A);)g--,n(v,N<m?I:O,m,l),m=v.length,f=1;else 0==g&&(f=g=1),m=(v=O.slice()).length;if(m<A&&(v=[0].concat(v)),n(S,v,A,l),A=S.length,-1==f)for(;t(O,S,N,A)<1;)g++,n(S,N<A?I:O,A,l),A=S.length}else 0===f&&(g++,S=[0]);w[h++]=g,S[0]?S[A++]=D[b]||0:(S=[D[b]],A=1)}while((b++<T||null!=S[0])&&E--);p=null!=S[0],w[0]||w.splice(0,1)}if(l==s){for(h=1,E=w[0];E>=10;E/=10,h++);H(k,a+(k.e=h+d*c-1)+1,u,p)}else k.e=d,k.r=+p;return k}}(),T=/^(-?)0([xbo])(?=\w[\w.]*$)/i,x=/^([^.]+)\.$/,N=/^\.([^.]+)$/,I=/^-?(Infinity|NaN)$/,E=/^\s*\+(?=[\w.])|^\s+|\s+$/g,A=function(e,t,n,r){var i,o=n?t:t.replace(E,"");if(I.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!n&&(o=o.replace(T,(function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t})),r&&(i=r,o=o.replace(x,"$1").replace(N,"0.$1")),t!=o))return new _(o,i);if(_.DEBUG)throw Error(a+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},D.absoluteValue=D.abs=function(){var e=new _(this);return e.s<0&&(e.s=1),e},D.comparedTo=function(e,t){return g(this,new _(e,t))},D.decimalPlaces=D.dp=function(e,t){var n,r,i,o=this;if(null!=e)return v(e,0,h),null==t?t=M:v(t,0,8),H(new _(o),e+o.e+1,t);if(!(n=o.c))return null;if(r=((i=n.length-1)-y(this.e/c))*c,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},D.dividedBy=D.div=function(e,t){return n(this,new _(e,t),C,M)},D.dividedToIntegerBy=D.idiv=function(e,t){return n(this,new _(e,t),0,1)},D.exponentiatedBy=D.pow=function(e,t){var n,r,u,s,l,f,d,h,y=this;if((e=new _(e)).c&&!e.isInteger())throw Error(a+"Exponent not an integer: "+Y(e));if(null!=t&&(t=new _(t)),l=e.e>14,!y.c||!y.c[0]||1==y.c[0]&&!y.e&&1==y.c.length||!e.c||!e.c[0])return h=new _(Math.pow(+Y(y),l?2-m(e):+Y(e))),t?h.mod(t):h;if(f=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new _(NaN);(r=!f&&y.isInteger()&&t.isInteger())&&(y=y.mod(t))}else{if(e.e>9&&(y.e>0||y.e<-1||(0==y.e?y.c[0]>1||l&&y.c[1]>=24e7:y.c[0]<8e13||l&&y.c[0]<=9999975e7)))return s=y.s<0&&m(e)?-0:0,y.e>-1&&(s=1/s),new _(f?1/s:s);L&&(s=i(L/c+2))}for(l?(n=new _(.5),f&&(e.s=1),d=m(e)):d=(u=Math.abs(+Y(e)))%2,h=new _(O);;){if(d){if(!(h=h.times(y)).c)break;s?h.c.length>s&&(h.c.length=s):r&&(h=h.mod(t))}if(u){if(0===(u=o(u/2)))break;d=u%2}else if(H(e=e.times(n),e.e+1,1),e.e>14)d=m(e);else{if(0===(u=+Y(e)))break;d=u%2}y=y.times(y),s?y.c&&y.c.length>s&&(y.c.length=s):r&&(y=y.mod(t))}return r?h:(f&&(h=O.div(h)),t?h.mod(t):s?H(h,L,M,undefined):h)},D.integerValue=function(e){var t=new _(this);return null==e?e=M:v(e,0,8),H(t,t.e+1,e)},D.isEqualTo=D.eq=function(e,t){return 0===g(this,new _(e,t))},D.isFinite=function(){return!!this.c},D.isGreaterThan=D.gt=function(e,t){return g(this,new _(e,t))>0},D.isGreaterThanOrEqualTo=D.gte=function(e,t){return 1===(t=g(this,new _(e,t)))||0===t},D.isInteger=function(){return!!this.c&&y(this.e/c)>this.c.length-2},D.isLessThan=D.lt=function(e,t){return g(this,new _(e,t))<0},D.isLessThanOrEqualTo=D.lte=function(e,t){return-1===(t=g(this,new _(e,t)))||0===t},D.isNaN=function(){return!this.s},D.isNegative=function(){return this.s<0},D.isPositive=function(){return this.s>0},D.isZero=function(){return!!this.c&&0==this.c[0]},D.minus=function(e,t){var n,r,i,o,a=this,u=a.s;if(t=(e=new _(e,t)).s,!u||!t)return new _(NaN);if(u!=t)return e.s=-t,a.plus(e);var l=a.e/c,f=e.e/c,d=a.c,h=e.c;if(!l||!f){if(!d||!h)return d?(e.s=-t,e):new _(h?a:NaN);if(!d[0]||!h[0])return h[0]?(e.s=-t,e):new _(d[0]?a:3==M?-0:0)}if(l=y(l),f=y(f),d=d.slice(),u=l-f){for((o=u<0)?(u=-u,i=d):(f=l,i=h),i.reverse(),t=u;t--;i.push(0));i.reverse()}else for(r=(o=(u=d.length)<(t=h.length))?u:t,u=t=0;t<r;t++)if(d[t]!=h[t]){o=d[t]<h[t];break}if(o&&(i=d,d=h,h=i,e.s=-e.s),(t=(r=h.length)-(n=d.length))>0)for(;t--;d[n++]=0);for(t=s-1;r>u;){if(d[--r]<h[r]){for(n=r;n&&!d[--n];d[n]=t);--d[n],d[r]+=s}d[r]-=h[r]}for(;0==d[0];d.splice(0,1),--f);return d[0]?G(e,d,f):(e.s=3==M?-1:1,e.c=[e.e=0],e)},D.modulo=D.mod=function(e,t){var r,i,o=this;return e=new _(e,t),!o.c||!e.s||e.c&&!e.c[0]?new _(NaN):!e.c||o.c&&!o.c[0]?new _(o):(9==B?(i=e.s,e.s=1,r=n(o,e,0,3),e.s=i,r.s*=i):r=n(o,e,0,B),(e=o.minus(r.times(e))).c[0]||1!=B||(e.s=o.s),e)},D.multipliedBy=D.times=function(e,t){var n,r,i,o,a,u,l,f,h,p,g,v,m,k,w,S=this,A=S.c,P=(e=new _(e,t)).c;if(!(A&&P&&A[0]&&P[0]))return!S.s||!e.s||A&&!A[0]&&!P||P&&!P[0]&&!A?e.c=e.e=e.s=null:(e.s*=S.s,A&&P?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=y(S.e/c)+y(e.e/c),e.s*=S.s,(l=A.length)<(p=P.length)&&(m=A,A=P,P=m,i=l,l=p,p=i),i=l+p,m=[];i--;m.push(0));for(k=s,w=d,i=p;--i>=0;){for(n=0,g=P[i]%w,v=P[i]/w|0,o=i+(a=l);o>i;)n=((f=g*(f=A[--a]%w)+(u=v*f+(h=A[a]/w|0)*g)%w*w+m[o]+n)/k|0)+(u/w|0)+v*h,m[o--]=f%k;m[o]=n}return n?++r:m.splice(0,1),G(e,m,r)},D.negated=function(){var e=new _(this);return e.s=-e.s||null,e},D.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new _(e,t)).s,!i||!t)return new _(NaN);if(i!=t)return e.s=-t,r.minus(e);var o=r.e/c,a=e.e/c,u=r.c,l=e.c;if(!o||!a){if(!u||!l)return new _(i/0);if(!u[0]||!l[0])return l[0]?e:new _(u[0]?r:0*i)}if(o=y(o),a=y(a),u=u.slice(),i=o-a){for(i>0?(a=o,n=l):(i=-i,n=u),n.reverse();i--;n.push(0));n.reverse()}for((i=u.length)-(t=l.length)<0&&(n=l,l=u,u=n,t=i),i=0;t;)i=(u[--t]=u[t]+l[t]+i)/s|0,u[t]=s===u[t]?0:u[t]%s;return i&&(u=[i].concat(u),++a),G(e,u,a)},D.precision=D.sd=function(e,t){var n,r,i,o=this;if(null!=e&&e!==!!e)return v(e,1,h),null==t?t=M:v(t,0,8),H(new _(o),e,t);if(!(n=o.c))return null;if(r=(i=n.length-1)*c+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return e&&o.e+1>r&&(r=o.e+1),r},D.shiftedBy=function(e){return v(e,-l,l),this.times("1e"+e)},D.squareRoot=D.sqrt=function(){var e,t,r,i,o,a=this,u=a.c,s=a.s,c=a.e,l=C+4,f=new _("0.5");if(1!==s||!u||!u[0])return new _(!s||s<0&&(!u||u[0])?NaN:u?a:1/0);if(0==(s=Math.sqrt(+Y(a)))||s==1/0?(((t=p(u)).length+c)%2==0&&(t+="0"),s=Math.sqrt(+t),c=y((c+1)/2)-(c<0||c%2),r=new _(t=s==1/0?"5e"+c:(t=s.toExponential()).slice(0,t.indexOf("e")+1)+c)):r=new _(s+""),r.c[0])for((s=(c=r.e)+l)<3&&(s=0);;)if(o=r,r=f.times(o.plus(n(a,o,l,1))),p(o.c).slice(0,s)===(t=p(r.c)).slice(0,s)){if(r.e<c&&--s,"9999"!=(t=t.slice(s-3,s+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(H(r,r.e+C+2,1),e=!r.times(r).eq(a));break}if(!i&&(H(o,o.e+C+2,0),o.times(o).eq(a))){r=o;break}l+=4,s+=4,i=1}return H(r,r.e+C+1,M,e)},D.toExponential=function(e,t){return null!=e&&(v(e,0,h),e++),Q(this,e,t,1)},D.toFixed=function(e,t){return null!=e&&(v(e,0,h),e=e+this.e+1),Q(this,e,t)},D.toFormat=function(e,t,n){var r,i=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=j;else if("object"!=typeof n)throw Error(a+"Argument not an object: "+n);if(r=i.toFixed(e,t),i.c){var o,u=r.split("."),s=+n.groupSize,c=+n.secondaryGroupSize,l=n.groupSeparator||"",f=u[0],d=u[1],h=i.s<0,y=h?f.slice(1):f,p=y.length;if(c&&(o=s,s=c,c=o,p-=o),s>0&&p>0){for(o=p%s||s,f=y.substr(0,o);o<p;o+=s)f+=l+y.substr(o,s);c>0&&(f+=l+y.slice(o)),h&&(f="-"+f)}r=d?f+(n.decimalSeparator||"")+((c=+n.fractionGroupSize)?d.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):d):f}return(n.prefix||"")+r+(n.suffix||"")},D.toFraction=function(e){var t,r,i,o,u,s,l,d,h,y,g,v,m=this,k=m.c;if(null!=e&&(!(l=new _(e)).isInteger()&&(l.c||1!==l.s)||l.lt(O)))throw Error(a+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+Y(l));if(!k)return new _(m);for(t=new _(O),h=r=new _(O),i=d=new _(O),v=p(k),u=t.e=v.length-m.e-1,t.c[0]=f[(s=u%c)<0?c+s:s],e=!e||l.comparedTo(t)>0?u>0?t:h:l,s=R,R=1/0,l=new _(v),d.c[0]=0;y=n(l,t,0,1),1!=(o=r.plus(y.times(i))).comparedTo(e);)r=i,i=o,h=d.plus(y.times(o=h)),d=o,t=l.minus(y.times(o=t)),l=o;return o=n(e.minus(r),i,0,1),d=d.plus(o.times(h)),r=r.plus(o.times(i)),d.s=h.s=m.s,g=n(h,i,u*=2,M).minus(m).abs().comparedTo(n(d,r,u,M).minus(m).abs())<1?[h,i]:[d,r],R=s,g},D.toNumber=function(){return+Y(this)},D.toPrecision=function(e,t){return null!=e&&v(e,1,h),Q(this,e,t,2)},D.toString=function(e){var t,n=this,r=n.s,i=n.e;return null===i?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(null==e?t=i<=F||i>=V?k(p(n.c),i):w(p(n.c),i,"0"):10===e&&U?t=w(p((n=H(new _(n),C+i+1,M)).c),n.e,"0"):(v(e,2,z.length,"Base"),t=S(w(p(n.c),i,"0"),10,e,r,!0)),r<0&&n.c[0]&&(t="-"+t)),t},D.valueOf=D.toJSON=function(){return Y(this)},D._isBigNumber=!0,null!=t&&_.set(t),_}(),n.default=n.BigNumber=n,"function"==typeof define&&define.amd?define((function(){return n})):e.exports?e.exports=n:(t||(t="undefined"!=typeof self&&self?self:window),t.BigNumber=n)}(e.exports)})),o.register("hIkt0",(function(t,n){e(t.exports,"invalidateAllStakeAccountData",(function(){return i}));var r=o("7dNLn");const i=e=>()=>{e.invalidateQueries({predicate:e=>e.queryKey[0]===r.STAKE_ACCOUNTS_SCOPE||e.queryKey[0]===r.STAKE_ACTIVATION_DATA_SCOPE})}})),o.register("7dNLn",(function(t,n){e(t.exports,"STAKE_ACCOUNTS_SCOPE",(function(){return r})),e(t.exports,"STAKE_ACTIVATION_DATA_SCOPE",(function(){return i})),e(t.exports,"stakingQueryKeys",(function(){return o}));const r="stakeAccounts",i="stakeActivationData",o={keybaseUserAvatar:e=>["keybaseUserAvatar",e],signatureStatus:e=>["signatureStatus",{txSignature:e}],stakeAccounts:(e,t)=>[r,e,t],stakeAccountMinBalance:()=>["stakeAccountMinBalance"],stakeActivationData:e=>[i,{publicKey:e}],stakeRewardsHistory:e=>["stakeRewardsHistory",{publicKey:e}],stakeApy:()=>["stakeApy"],recommendedValidators:()=>["recommendedValidators"],validatorInfo:()=>["validatorInfo"],voteAccounts:e=>["voteAccounts",e]}})),o.register("kAm35",(function(t,n){e(t.exports,"recommendedValidatorSorter",(function(){return r}));const r=e=>(t,n)=>{const r=e.indexOf(t.voteAccountPubkey),i=e.indexOf(n.voteAccountPubkey);return(r>-1?r:1/0)-(i>-1?i:1/0)}})),o.register("9TG0W",(function(t,n){e(t.exports,"voteAccountSorter",(function(){return i}));const r=(e,t)=>e+t[1],i=(e,t)=>{if(e.commission>50||t.commission>50)return e.commission-t.commission;const n=e.epochCredits.reduce(r,0)*(1-e.commission/100);return t.epochCredits.reduce(r,0)*(1-t.commission/100)-n}})),o.register("6fWI5",(function(t,n){e(t.exports,"delegateStake",(function(){return p}),(function(e){return p=e})),e(t.exports,"useDelegateStake",(function(){return g}),(function(e){return g=e}));var r=o("iOvk1"),i=o("43063"),a=o("7mQ3Y"),u=o("hMVEP"),s=o("csW2r"),c=o("7gANb"),l=o("9W7fs"),f=o("bQvNK"),d=o("3vaB1");o("9OqWg");var h=o("hIkt0"),y=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))};function p({stakePubkey:e,authorizedPubkey:t,votePubkey:n}){return u.StakeProgram.delegate({stakePubkey:e,authorizedPubkey:t,votePubkey:n})}const g=(e,t,n,o,g)=>{const{t:v}=(0,i.useTranslation)(),{mutateAsync:m}=e.useSignAndSendSolanaTransactionAsync(t);return(0,l.useMutation)({mutationFn:({accountIdentifier:e,senderAddress:n,stakePubkey:i,authorizedPubkey:s,votePubkey:l})=>y(void 0,void 0,void 0,(function*(){if(!n)throw d.MissingSenderAddressError;const{networkID:f,address:h}=n,y=p({stakePubkey:i,authorizedPubkey:s,votePubkey:l}),k=yield o.addPriorityFee(y,{connection:t}),w={ownerAddress:null!=h?h:"",networkID:f,data:{signature:""},type:c.PendingTransactionType.DelegateStake,display:{summary:{topLeft:{label:v("transactionsPendingDelegatingStake")}}}};g.then((e=>e.approved({chainType:a.AddressType.Solana,chainName:r.Chain.Solana,networkId:r.Chains.getSolanaNetworkIDValue(f),type:"delegate"})));const S=yield m({accountIdentifier:e,feePayer:new(0,u.PublicKey)(h),transaction:k,pendingTransactionInput:w});return g.then((e=>e.submittedTransaction(S,{chainType:a.AddressType.Solana,chainName:r.Chain.Solana,networkId:r.Chains.getSolanaNetworkIDValue(f),method:"signAndSendTransaction"}))),{networkID:f,id:null!=S?S:""}})),onSuccess:e=>{(0,f.waitForTransactionConfirmationAsync)(t,e.id).then((()=>{g.then((t=>t.transactionStatus(e.id,{chainType:a.AddressType.Solana,chainName:r.Chain.Solana,networkId:r.Chains.getSolanaNetworkIDValue(e.networkID),status:{type:"confirmed"}}))),(0,h.invalidateAllStakeAccountData)(n)()})).catch((t=>{g.then((t=>t.transactionStatus(e.id,{chainType:a.AddressType.Solana,chainName:r.Chain.Solana,networkId:r.Chains.getSolanaNetworkIDValue(e.networkID),status:{type:"error"}}))),s.telemetry.captureError(t,s.FeatureTag.Staking)}))}})}})),o.register("lEqf0",(function(t,n){e(t.exports,"useDeactivateStake",(function(){return p}),(function(e){return p=e}));var r=o("iOvk1"),i=o("43063"),a=o("7mQ3Y"),u=o("hMVEP"),s=o("csW2r"),c=o("7gANb"),l=o("9W7fs"),f=o("bQvNK"),d=o("3vaB1");o("9OqWg");var h=o("hIkt0"),y=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))};const p=(e,t,n,o,p)=>{const{t:g}=(0,i.useTranslation)(),{mutateAsync:v}=e.useSignAndSendSolanaTransactionAsync(t);return(0,l.useMutation)({mutationFn:({accountIdentifier:e,senderAddress:n,stakePubkey:i,stakeAuthorityPubkey:s,authorizedPubkey:l})=>y(void 0,void 0,void 0,(function*(){if(!n)throw d.MissingSenderAddressError;const{networkID:f,address:h}=n,y=function({stakePubkey:e,stakeAuthorityPubkey:t,authorizedPubkey:n,transaction:r=new(0,u.Transaction)}){return t.equals(n)||r.add(u.StakeProgram.authorize({authorizedPubkey:n,newAuthorizedPubkey:n,stakeAuthorizationType:u.StakeAuthorizationLayout.Staker,stakePubkey:e})),r.add(u.StakeProgram.deactivate({stakePubkey:e,authorizedPubkey:n})),r}({stakePubkey:i,stakeAuthorityPubkey:s,authorizedPubkey:l}),m=yield o.addPriorityFee(y,{connection:t}),k={ownerAddress:null!=h?h:"",networkID:f,data:{signature:""},type:c.PendingTransactionType.DeactivateStake,display:{summary:{topLeft:{label:g("transactionsPendingDeactivatingStake")}}}};p.then((e=>e.approved({chainType:a.AddressType.Solana,chainName:r.Chain.Solana,networkId:r.Chains.getSolanaNetworkIDValue(f),type:"undelegate"})));const w=yield v({accountIdentifier:e,feePayer:new(0,u.PublicKey)(h),transaction:m,pendingTransactionInput:k});return p.then((e=>e.submittedTransaction(w,{chainType:a.AddressType.Solana,chainName:r.Chain.Solana,networkId:r.Chains.getSolanaNetworkIDValue(f),method:"signAndSendTransaction"}))),p.then((e=>e.deactivateStake())),{networkID:f,id:null!=w?w:""}})),onSuccess:e=>{(0,f.waitForTransactionConfirmationAsync)(t,e.id).then((()=>{p.then((t=>t.transactionStatus(e.id,{chainType:a.AddressType.Solana,chainName:r.Chain.Solana,networkId:r.Chains.getSolanaNetworkIDValue(e.networkID),status:{type:"confirmed"}}))),(0,h.invalidateAllStakeAccountData)(n)()})).catch((t=>{p.then((t=>t.transactionStatus(e.id,{chainType:a.AddressType.Solana,chainName:r.Chain.Solana,networkId:r.Chains.getSolanaNetworkIDValue(e.networkID),status:{type:"error"}}))),s.telemetry.captureError(t,s.FeatureTag.Staking)}))}})}})),o.register("6Bfdh",(function(t,n){e(t.exports,"useKeybaseUserAvatar",(function(){return s}),(function(e){return s=e}));var r=o("5ekp2"),i=o("5SMLK"),a=o("7dNLn"),u=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))};const s=e=>{const t=a.stakingQueryKeys.keybaseUserAvatar(e);return(0,r.useQuery)({enabled:!!e,queryKey:t,queryFn(){return u(this,void 0,void 0,(function*(){if(!e)throw new Error("Keybase username is required");return(0,i.getKeybaseUserAvatar)(e)}))},placeholderData:""})}})),o.register("5SMLK",(function(t,n){e(t.exports,"getKeybaseUserAvatar",(function(){return a}),(function(e){return a=e}));var r=o("beWYh"),i=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))};const a=e=>i(void 0,void 0,void 0,(function*(){var t;const n=new(0,r.RequestClient),i=yield n.get(`https://keybase.io/_/api/1.0/user/pic_url.json?username=${encodeURIComponent(e)}`);if(!(0,r.responseIsOkay)(i)||0!==(null===(t=i.data.status)||void 0===t?void 0:t.code))throw new Error("Couldn't fetch keybase user avatar");return i.data.pic_url}))})),o.register("48Z1Q",(function(t,n){e(t.exports,"useRecommendedValidators",(function(){return l}),(function(e){return l=e}));var r=o("csW2r"),i=o("5ekp2"),a=o("5u9SD"),u=o("7dNLn"),s=o("kX9T3"),c=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))};const l=e=>{const t=u.stakingQueryKeys.recommendedValidators();return(0,i.useQuery)({enabled:!0,queryKey:t,cacheTime:s.CacheTime.Long,staleTime:s.StaleTime.Never,queryFn(){return c(this,void 0,void 0,(function*(){return(0,a.getRecommendedValidators)(e())}))},onError(e){r.telemetry.captureError(e,r.FeatureTag.Staking)}})}})),o.register("5u9SD",(function(n,r){e(n.exports,"getRecommendedValidators",(function(){return c}),(function(e){return c=e}));var i=o("1LpD3"),a=o("jjhma"),u=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))};const s=new Error("Failed to fetch recommended staking validators.");function c(e){return u(this,void 0,void 0,(function*(){try{const n=yield t(i)(`${e}/staking/v1/recommended`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok)throw s;const r=yield n.json();return a.RecommendedValidators.parse(r).validators}catch(e){throw s}}))}})),o.register("jjhma",(function(t,n){e(t.exports,"StakeAccountType",(function(){return r})),e(t.exports,"StakeApy",(function(){return u})),e(t.exports,"RecommendedValidators",(function(){return s})),e(t.exports,"StakingRewardsHistory",(function(){return l}));var r,i,a=o("7XqVB");(i=r||(r={})).Initialized="initialized",i.Delegated="delegated";const u=a.z.object({apy:a.z.number()}),s=a.z.object({validators:a.z.array(a.z.string())}),c=a.z.object({epoch:a.z.number(),effectiveSlot:a.z.number(),amount:a.z.number(),postBalance:a.z.number(),percentChange:a.z.number(),apr:a.z.number(),timestamp:a.z.number()}),l=a.z.object({items:a.z.array(c)})})),o.register("kX9T3",(function(t,n){e(t.exports,"CacheTime",(function(){return i})),e(t.exports,"StaleTime",(function(){return u}));var r=o("RVqnc");var i,a,u,s;(a=i||(i={}))[a.Always=1/0]="Always",a[a.Short=(0,r.toMilliseconds)({days:1})]="Short",a[a.Medium=(0,r.toMilliseconds)({days:3})]="Medium",a[a.Long=(0,r.toMilliseconds)({days:7})]="Long",(s=u||(u={}))[s.Immediate=0]="Immediate",s[s.Short=(0,r.toMilliseconds)({minutes:1})]="Short",s[s.Medium=(0,r.toMilliseconds)({minutes:2.5})]="Medium",s[s.Long=(0,r.toMilliseconds)({minutes:5})]="Long",s[s.Never=1/0]="Never"})),o.register("39pK6",(function(t,n){e(t.exports,"useSignatureStatus",(function(){return c}),(function(e){return c=e}));var r=o("5ekp2"),i=o("3vaB1"),a=o("7dNLn"),u=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))};const s=(e,t)=>u(void 0,void 0,void 0,(function*(){return yield e.getSignatureStatus(t,{searchTransactionHistory:!0})}));function c(e,t,n,o){var c;const l=a.stakingQueryKeys.signatureStatus(o),f=e.getQueryData(l),d=null===(c=null==f?void 0:f.value)||void 0===c?void 0:c.confirmationStatus,h=!!o&&"finalized"!==d;return(0,r.useQuery)({queryKey:l,queryFn:()=>u(this,void 0,void 0,(function*(){if(!o)throw i.MissingConfirmationSignatureError;return yield s(t,o)})),enabled:h,refetchInterval:n})}})),o.register("gqfgW",(function(t,n){e(t.exports,"useStakeAccountMinBalance",(function(){return c}),(function(e){return c=e}));var r=o("hMVEP"),i=o("5ekp2"),a=o("7dNLn"),u=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))};const s=e=>()=>u(void 0,void 0,void 0,(function*(){return yield e.getMinimumBalanceForRentExemption(r.StakeProgram.space)}));function c(e){const t=a.stakingQueryKeys.stakeAccountMinBalance(),n=s(e);return(0,i.useQuery)({queryKey:t,queryFn:n,placeholderData:0})}})),o.register("3cJgq",(function(t,n){e(t.exports,"useStakeAccounts",(function(){return l}),(function(e){return l=e}));var r=o("hMVEP"),i=o("csW2r"),a=o("5ekp2"),u=o("7dNLn"),s=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))};const c=(e,t)=>s(void 0,void 0,void 0,(function*(){const n=[];t.ownerPublicKey&&n.push({memcmp:{offset:44,bytes:t.ownerPublicKey}}),t.voteAccountPublicKey&&n.push({dataSize:200},{memcmp:{offset:124,bytes:t.voteAccountPublicKey}});const o=yield e.getParsedProgramAccounts(r.StakeProgram.programId,{filters:n});let a=[];if(t.fetchInflationRewards)try{a=yield((e,t,n,r="confirmed")=>s(void 0,void 0,void 0,(function*(){return yield e.getInflationReward(t,n,r)})))(e,o.map((({pubkey:e})=>e)))}catch(e){const t=e;!t.message.includes("RPC request timed out")&&i.telemetry.captureError(t,i.FeatureTag.Staking)}return o.map(((e,t)=>{var n;return Object.assign({pubkey:e.pubkey.toString(),lamports:e.account.lamports,inflationReward:null===(n=a[t])||void 0===n?void 0:n.amount},e.account.data.parsed)}))}));function l(e,t){const n=u.stakingQueryKeys.stakeAccounts(t,e.rpcEndpoint);return(0,a.useQuery)({queryKey:n,queryFn:()=>c(e,{ownerPublicKey:t,fetchInflationRewards:!0}),placeholderData:[]})}})),o.register("d5USZ",(function(t,n){e(t.exports,"useStakeActivationData",(function(){return l}),(function(e){return l=e}));var r=o("hMVEP"),i=o("5ekp2"),a=o("3vaB1"),u=o("7dNLn"),s=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))};const c=(e,t)=>e.getStakeActivation(new(0,r.PublicKey)(t));function l(e,t){const n=u.stakingQueryKeys.stakeActivationData(t),r=!!t;return(0,i.useQuery)({queryKey:n,queryFn:()=>s(this,void 0,void 0,(function*(){if(!t)throw a.MissingPublicKeyError;return yield c(e,t)})),enabled:r})}})),o.register("40bAw",(function(t,n){e(t.exports,"useStakeApy",(function(){return l}),(function(e){return l=e}));var r=o("csW2r"),i=o("5ekp2"),a=o("9Kma9"),u=o("7dNLn"),s=o("kX9T3"),c=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))};const l=e=>{const t=u.stakingQueryKeys.stakeApy();return(0,i.useQuery)({enabled:!0,queryKey:t,cacheTime:s.CacheTime.Short,staleTime:s.StaleTime.Never,queryFn(){return c(this,void 0,void 0,(function*(){return(0,a.getStakingApy)(e())}))},onError(e){r.telemetry.captureError(e,r.FeatureTag.Staking)}})}})),o.register("9Kma9",(function(n,r){e(n.exports,"getStakingApy",(function(){return c}),(function(e){return c=e}));var i=o("1LpD3"),a=o("jjhma"),u=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))};const s=new Error("Failed to fetch staking APY");function c(e){return u(this,void 0,void 0,(function*(){try{const n=yield t(i)(`${e}/staking/v1/apy`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok)throw s;const r=yield n.json();return a.StakeApy.parse(r).apy}catch(e){throw s}}))}})),o.register("8BkVZ",(function(t,n){e(t.exports,"useStakeRewardsHistory",(function(){return l}),(function(e){return l=e}));var r=o("csW2r"),i=o("wGjeD"),a=o("1xomf"),u=o("7dNLn"),s=o("kX9T3"),c=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))};function l(e,t,n,o=2){const l=u.stakingQueryKeys.stakeRewardsHistory(t);return(0,i.useInfiniteQuery)({retry:o,enabled:!!t&&!!n,queryKey:l,cacheTime:s.CacheTime.Long,staleTime:s.StaleTime.Never,queryFn:({pageParam:r})=>c(this,void 0,void 0,(function*(){const i=r?{address:t,chainId:n,epoch:r}:{address:t,chainId:n};return(0,a.getStakingRewardsHistory)(e(),i)})),getNextPageParam:({items:e})=>e.length?e[e.length-1].epoch:null,onError:e=>r.telemetry.captureError(e,r.FeatureTag.Staking)})}})),o.register("wGjeD",(function(t,n){e(t.exports,"useInfiniteQuery",(function(){return u}));var r=o("6BSmi"),i=o("iKKzk"),a=o("dsciT");function u(e,t,n){const o=(0,i.parseQueryArgs)(e,t,n);return(0,a.useBaseQuery)(o,r.InfiniteQueryObserver)}})),o.register("6BSmi",(function(t,n){e(t.exports,"InfiniteQueryObserver",(function(){return a}));var r=o("3Pyfv"),i=o("cccYE");class a extends r.QueryObserver{bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:(0,i.infiniteQueryBehavior)()},t)}getOptimisticResult(e){return e.behavior=(0,i.infiniteQueryBehavior)(),super.getOptimisticResult(e)}fetchNextPage({pageParam:e,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"forward",pageParam:e}}})}fetchPreviousPage({pageParam:e,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"backward",pageParam:e}}})}createResult(e,t){var n,r,o,a,u,s;const{state:c}=e;return{...super.createResult(e,t),fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,i.hasNextPage)(t,null==(n=c.data)?void 0:n.pages),hasPreviousPage:(0,i.hasPreviousPage)(t,null==(r=c.data)?void 0:r.pages),isFetchingNextPage:"fetching"===c.fetchStatus&&"forward"===(null==(o=c.fetchMeta)||null==(a=o.fetchMore)?void 0:a.direction),isFetchingPreviousPage:"fetching"===c.fetchStatus&&"backward"===(null==(u=c.fetchMeta)||null==(s=u.fetchMore)?void 0:s.direction)}}constructor(e,t){super(e,t)}}})),o.register("cccYE",(function(t,n){function r(){return{onFetch:e=>{e.fetchFn=()=>{var t,n,r,a,u,s;const c=null==(t=e.fetchOptions)||null==(n=t.meta)?void 0:n.refetchPage,l=null==(r=e.fetchOptions)||null==(a=r.meta)?void 0:a.fetchMore,f=null==l?void 0:l.pageParam,d="forward"===(null==l?void 0:l.direction),h="backward"===(null==l?void 0:l.direction),y=(null==(u=e.state.data)?void 0:u.pages)||[],p=(null==(s=e.state.data)?void 0:s.pageParams)||[];let g=p,v=!1;const m=e.options.queryFn||(()=>Promise.reject("Missing queryFn")),k=(e,t,n,r)=>(g=r?[t,...g]:[...g,t],r?[n,...e]:[...e,n]),w=(t,n,r,i)=>{if(v)return Promise.reject("Cancelled");if(void 0===r&&!n&&t.length)return Promise.resolve(t);const o={queryKey:e.queryKey,pageParam:r,meta:e.meta};var a;a=o,Object.defineProperty(a,"signal",{enumerable:!0,get:()=>{var t,n;return null!=(t=e.signal)&&t.aborted?v=!0:null==(n=e.signal)||n.addEventListener("abort",(()=>{v=!0})),e.signal}});const u=m(o);return Promise.resolve(u).then((e=>k(t,r,e,i)))};let S;if(y.length)if(d){const t=void 0!==f,n=t?f:i(e.options,y);S=w(y,t,n)}else if(h){const t=void 0!==f,n=t?f:o(e.options,y);S=w(y,t,n,!0)}else{g=[];const t=void 0===e.options.getNextPageParam;S=!c||!y[0]||c(y[0],0,y)?w([],t,p[0]):Promise.resolve(k([],p[0],y[0]));for(let n=1;n<y.length;n++)S=S.then((r=>{if(!c||!y[n]||c(y[n],n,y)){const o=t?p[n]:i(e.options,r);return w(r,t,o)}return Promise.resolve(k(r,p[n],y[n]))}))}else S=w([]);return S.then((e=>({pages:e,pageParams:g})))}}}}function i(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}function o(e,t){return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam(t[0],t)}function a(e,t){if(e.getNextPageParam&&Array.isArray(t)){const n=i(e,t);return null!=n&&!1!==n}}function u(e,t){if(e.getPreviousPageParam&&Array.isArray(t)){const n=o(e,t);return null!=n&&!1!==n}}e(t.exports,"infiniteQueryBehavior",(function(){return r})),e(t.exports,"hasNextPage",(function(){return a})),e(t.exports,"hasPreviousPage",(function(){return u}))})),o.register("1xomf",(function(n,r){e(n.exports,"getStakingRewardsHistory",(function(){return c}),(function(e){return c=e}));var i=o("1LpD3"),a=o("jjhma"),u=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))};const s=new Error("Failed to fetch staking rewards history");function c(e,n){return u(this,void 0,void 0,(function*(){let r;try{r=yield t(i)(`${e}/staking/v1/history`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}catch(e){throw s}if(!r.ok)throw s;const o=yield r.json(),u=a.StakingRewardsHistory.safeParse(o);if(u.success)return u.data;throw s}))}})),o.register("kETlb",(function(t,n){e(t.exports,"useValidatorInfo",(function(){return c}),(function(e){return c=e}));var r=o("5ekp2"),i=o("f5UU6"),a=o("7dNLn"),u=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))};const s=e=>()=>u(void 0,void 0,void 0,(function*(){return(yield e.getParsedProgramAccounts(i.CONFIG_PROGRAM_ID)).reduce(((e,t)=>{var n;if("validatorInfo"!==(null===(n=t.account.data.parsed)||void 0===n?void 0:n.type))return e;const r=t.pubkey.toString(),i=t.account.data.parsed.info.keys,[,o]=i;if(!o.signer)return e;const a=o.pubkey,u=t.account.data.parsed.info.configData;return e.push({identityPubkey:a,infoPubkey:r,info:u}),e}),[])}));function c(e){const t=a.stakingQueryKeys.validatorInfo(),n=s(e);return(0,r.useQuery)({queryKey:t,queryFn:n,placeholderData:[]})}})),o.register("FEhzp",(function(t,n){e(t.exports,"useValidators",(function(){return c}),(function(e){return c=e}));var r=o("29o0l"),i=o("9TG0W"),a=o("kETlb"),u=o("cJRQS"),s=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))};function c(e){const{isFetched:t,isFetching:n,isLoading:o,isSuccess:c,isError:l,dataUpdatedAt:f,errorUpdatedAt:d,error:h,refetch:y,data:p}=(0,u.useVoteAccounts)(e),g=Math.max(f,d),{isFetched:v,isFetching:m,isLoading:k,isSuccess:w,isError:S,dataUpdatedAt:A,errorUpdatedAt:P,error:b,refetch:T,data:x}=(0,a.useValidatorInfo)(e),N=Math.max(A,P),I=Math.max(g,N),E=t&&v,D=n||m,O=c||w,C=l||S,M=h||b,F=o||k,V=(0,r.useCallback)((()=>s(this,void 0,void 0,(function*(){Promise.all([y(),T()])}))),[T,y]);return{results:(0,r.useMemo)((()=>{if(!p)return[];if(!x)return[];p.sort(i.voteAccountSorter);const e=new Map(p.map((e=>[e.identityPubkey,e]))),t=new Map(x.map((e=>[e.identityPubkey,e]))),n=[];for(const[r,i]of e){const e=t.get(r);n.push(Object.assign(Object.assign({},i),e))}return n}),[x,p]),dataUpdatedAt:I,error:M,isSuccess:O,isError:C,isFetched:E,isFetching:D,isLoading:F,refetch:V}}})),o.register("cJRQS",(function(t,n){e(t.exports,"useVoteAccounts",(function(){return s}),(function(e){return s=e}));var r=o("5ekp2"),i=o("7dNLn"),a=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))};const u=e=>a(void 0,void 0,void 0,(function*(){const t=yield e.getVoteAccounts();return[...t.current,...t.delinquent].map((e=>({identityPubkey:e.nodePubkey,voteAccountPubkey:e.votePubkey,commission:e.commission,lastVote:e.lastVote,epochCredits:e.epochCredits,activatedStake:e.activatedStake}))).filter((e=>e.commission<99))}));function s(e){const t=i.stakingQueryKeys.voteAccounts(e.rpcEndpoint);return(0,r.useQuery)({queryKey:t,queryFn:()=>a(this,void 0,void 0,(function*(){return u(e)})),placeholderData:[]})}})),o.register("efxv4",(function(t,n){e(t.exports,"useWithdrawStake",(function(){return p}),(function(e){return p=e}));var r=o("iOvk1"),i=o("43063"),a=o("7mQ3Y"),u=o("hMVEP"),s=o("csW2r"),c=o("7gANb"),l=o("9W7fs"),f=o("bQvNK"),d=o("3vaB1");o("9OqWg");var h=o("hIkt0"),y=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))};const p=(e,t,n,o,p)=>{const{t:g}=(0,i.useTranslation)(),{mutateAsync:v}=e.useSignAndSendSolanaTransactionAsync(t);return(0,l.useMutation)({mutationFn:({accountIdentifier:e,senderAddress:n,stakePubkey:i,authorizedPubkey:s,amount:l})=>y(void 0,void 0,void 0,(function*(){if(!n)throw d.MissingSenderAddressError;const{networkID:f,address:h}=n,y=function({stakePubkey:e,authorizedPubkey:t,amount:n,transaction:r=new(0,u.Transaction)}){return r.add(u.StakeProgram.withdraw({stakePubkey:e,authorizedPubkey:t,toPubkey:t,lamports:n})),r}({stakePubkey:i,authorizedPubkey:s,amount:l}),m=yield o.addPriorityFee(y,{connection:t}),k={ownerAddress:null!=h?h:"",networkID:f,data:{signature:""},type:c.PendingTransactionType.WithdrawStake,display:{summary:{topLeft:{label:g("transactionsPendingWithdrawingStake")}}}};p.then((e=>e.approved({chainType:a.AddressType.Solana,chainName:r.Chain.Solana,networkId:r.Chains.getSolanaNetworkIDValue(f),type:"withdraw"})));const w=yield v({accountIdentifier:e,feePayer:new(0,u.PublicKey)(h),transaction:m,pendingTransactionInput:k});return p.then((e=>e.submittedTransaction(w,{chainType:a.AddressType.Solana,chainName:r.Chain.Solana,networkId:r.Chains.getSolanaNetworkIDValue(f),method:"signAndSendTransaction"}))),{networkID:f,id:null!=w?w:""}})),onSuccess:e=>{(0,f.waitForTransactionConfirmationAsync)(t,e.id).then((()=>{p.then((t=>t.transactionStatus(e.id,{chainType:a.AddressType.Solana,chainName:r.Chain.Solana,networkId:r.Chains.getSolanaNetworkIDValue(e.networkID),status:{type:"confirmed"}}))),(0,h.invalidateAllStakeAccountData)(n)()})).catch((t=>{p.then((t=>t.transactionStatus(e.id,{chainType:a.AddressType.Solana,chainName:r.Chain.Solana,networkId:r.Chains.getSolanaNetworkIDValue(e.networkID),status:{type:"error"}}))),s.telemetry.captureError(t,s.FeatureTag.Staking)}))}})}})),o.register("8B6ZJ",(function(t,n){e(t.exports,"createStakeAnalytics",(function(){return a}));var r=o("h0VH5"),i=o("9CoSy");const a=e=>new u(e,"stake");class u extends r.SequenceAnalytics{constructor(){super(...arguments),this.createStakeAccountAndDelegateStake=e=>{this.analytics.capture("createStakeAccountAndDelegateStake",{asset:i.SOLANA,data:e})},this.deactivateStake=()=>{this.analytics.capture("deactivateStake",{asset:i.SOLANA})}}}}))}();
//# sourceMappingURL=staking.e599f575.js.map
define=__define;})(window.define);